import{a1 as M,W as j,Z as nt}from"./app-Dg5wP5N3.js";function it(t){return typeof t=="symbol"||t instanceof Symbol}function ft(){}function ct(t){return t==null||typeof t!="object"&&typeof t!="function"}function ut(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function B(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function E(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const F="[object RegExp]",R="[object String]",z="[object Number]",L="[object Boolean]",P="[object Arguments]",_="[object Symbol]",G="[object Date]",$="[object Map]",K="[object Set]",X="[object Array]",ot="[object Function]",Z="[object ArrayBuffer]",I="[object Object]",yt="[object Error]",q="[object DataView]",H="[object Uint8Array]",J="[object Uint8ClampedArray]",Q="[object Uint16Array]",Y="[object Uint32Array]",gt="[object BigUint64Array]",V="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",at="[object BigInt64Array]",C="[object Float32Array]",v="[object Float64Array]";function A(t,e,n,s=new Map,f=void 0){const o=f==null?void 0:f(t,e,n,s);if(o!=null)return o;if(ct(t))return t;if(s.has(t))return s.get(t);if(Array.isArray(t)){const r=new Array(t.length);s.set(t,r);for(let c=0;c<t.length;c++)r[c]=A(t[c],c,n,s,f);return Object.hasOwn(t,"index")&&(r.index=t.index),Object.hasOwn(t,"input")&&(r.input=t.input),r}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const r=new RegExp(t.source,t.flags);return r.lastIndex=t.lastIndex,r}if(t instanceof Map){const r=new Map;s.set(t,r);for(const[c,y]of t)r.set(c,A(y,c,n,s,f));return r}if(t instanceof Set){const r=new Set;s.set(t,r);for(const c of t)r.add(A(c,void 0,n,s,f));return r}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(ut(t)){const r=new(Object.getPrototypeOf(t)).constructor(t.length);s.set(t,r);for(let c=0;c<t.length;c++)r[c]=A(t[c],c,n,s,f);return r}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const r=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return s.set(t,r),m(r,t,n,s,f),r}if(typeof File<"u"&&t instanceof File){const r=new File([t],t.name,{type:t.type});return s.set(t,r),m(r,t,n,s,f),r}if(t instanceof Blob){const r=new Blob([t],{type:t.type});return s.set(t,r),m(r,t,n,s,f),r}if(t instanceof Error){const r=new t.constructor;return s.set(t,r),r.message=t.message,r.name=t.name,r.stack=t.stack,r.cause=t.cause,m(r,t,n,s,f),r}if(typeof t=="object"&&dt(t)){const r=Object.create(Object.getPrototypeOf(t));return s.set(t,r),m(r,t,n,s,f),r}return t}function m(t,e,n=t,s,f){const o=[...Object.keys(e),...B(e)];for(let r=0;r<o.length;r++){const c=o[r],y=Object.getOwnPropertyDescriptor(t,c);(y==null||y.writable)&&(t[c]=A(e[c],c,n,s,f))}}function dt(t){switch(E(t)){case P:case X:case Z:case q:case L:case G:case C:case v:case V:case k:case T:case $:case z:case I:case F:case K:case R:case _:case H:case J:case Q:case Y:return!0;default:return!1}}function b(t){return A(t,void 0,t,new Map,void 0)}function tt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function ht(t,e,n){return w(t,e,void 0,void 0,void 0,void 0,n)}function w(t,e,n,s,f,o,r){const c=r(t,e,n,s,f,o);if(c!==void 0)return c;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return l(t,e,o,r)}return l(t,e,o,r)}function l(t,e,n,s){if(Object.is(t,e))return!0;let f=E(t),o=E(e);if(f===P&&(f=I),o===P&&(o=I),f!==o)return!1;switch(f){case R:return t.toString()===e.toString();case z:{const y=t.valueOf(),g=e.valueOf();return tt(y,g)}case L:case G:case _:return Object.is(t.valueOf(),e.valueOf());case F:return t.source===e.source&&t.flags===e.flags;case ot:return t===e}n=n??new Map;const r=n.get(t),c=n.get(e);if(r!=null&&c!=null)return r===e;n.set(t,e),n.set(e,t);try{switch(f){case $:{if(t.size!==e.size)return!1;for(const[y,g]of t.entries())if(!e.has(y)||!w(g,e.get(y),y,t,e,n,s))return!1;return!0}case K:{if(t.size!==e.size)return!1;const y=Array.from(t.values()),g=Array.from(e.values());for(let p=0;p<y.length;p++){const i=y[p],u=g.findIndex(a=>w(i,a,void 0,t,e,n,s));if(u===-1)return!1;g.splice(u,1)}return!0}case X:case H:case J:case Q:case Y:case gt:case V:case k:case T:case at:case C:case v:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let y=0;y<t.length;y++)if(!w(t[y],e[y],y,t,e,n,s))return!1;return!0}case Z:return t.byteLength!==e.byteLength?!1:l(new Uint8Array(t),new Uint8Array(e),n,s);case q:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:l(new Uint8Array(t),new Uint8Array(e),n,s);case yt:return t.name===e.name&&t.message===e.message;case I:{if(!(l(t.constructor,e.constructor,n,s)||M(t)&&M(e)))return!1;const g=[...Object.keys(t),...B(t)],p=[...Object.keys(e),...B(e)];if(g.length!==p.length)return!1;for(let i=0;i<g.length;i++){const u=g[i],a=t[u];if(!Object.hasOwn(e,u))return!1;const S=e[u];if(!w(a,S,u,t,e,n,s))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function pt(t,e){return ht(t,e,ft)}function et(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}function rt(t){var e;return typeof t=="string"||typeof t=="symbol"?t:Object.is((e=t==null?void 0:t.valueOf)==null?void 0:e.call(t),-0)?"-0":String(t)}function D(t){const e=[],n=t.length;if(n===0)return e;let s=0,f="",o="",r=!1;for(t.charCodeAt(0)===46&&(e.push(""),s++);s<n;){const c=t[s];o?c==="\\"&&s+1<n?(s++,f+=t[s]):c===o?o="":f+=c:r?c==='"'||c==="'"?o=c:c==="]"?(r=!1,e.push(f),f=""):f+=c:c==="["?(r=!0,f&&(e.push(f),f="")):c==="."?f&&(e.push(f),f=""):f+=c,s++}return f&&e.push(f),e}function x(t,e,n){if(t==null)return n;switch(typeof e){case"string":{const s=t[e];return s===void 0?et(e)?x(t,D(e),n):n:s}case"number":case"symbol":{typeof e=="number"&&(e=rt(e));const s=t[e];return s===void 0?n:s}default:{if(Array.isArray(e))return St(t,e,n);Object.is(e==null?void 0:e.valueOf(),-0)?e="-0":e=String(e);const s=t[e];return s===void 0?n:s}}}function St(t,e,n){if(e.length===0)return n;let s=t;for(let f=0;f<e.length;f++){if(s==null)return n;s=s[e[f]]}return s===void 0?n:s}function W(t){return t!==null&&(typeof t=="object"||typeof t=="function")}const bt=/^(?:0|[1-9]\d*)$/;function st(t,e=Number.MAX_SAFE_INTEGER){switch(typeof t){case"number":return Number.isInteger(t)&&t>=0&&t<e;case"symbol":return!1;case"string":return bt.test(t)}}function At(t){return t!==null&&typeof t=="object"&&E(t)==="[object Arguments]"}function mt(t,e){let n;if(Array.isArray(e)?n=e:typeof e=="string"&&et(e)&&(t==null?void 0:t[e])==null?n=D(e):n=[e],n.length===0)return!1;let s=t;for(let f=0;f<n.length;f++){const o=n[f];if((s==null||!Object.hasOwn(s,o))&&!((Array.isArray(s)||At(s))&&st(o)&&o<s.length))return!1;s=s[o]}return!0}const wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lt=/^\w*$/;function jt(t,e){return Array.isArray(t)?!1:typeof t=="number"||typeof t=="boolean"||t==null||it(t)?!0:typeof t=="string"&&(lt.test(t)||!wt.test(t))||e!=null&&Object.hasOwn(e,t)}const Ot=(t,e,n)=>{const s=t[e];(!(Object.hasOwn(t,e)&&tt(s,n))||n===void 0&&!(e in t))&&(t[e]=n)};function It(t,e,n,s){if(t==null&&!W(t))return t;const f=jt(e,t)?[e]:Array.isArray(e)?e:typeof e=="string"?D(e):[e];let o=t;for(let r=0;r<f.length&&o!=null;r++){const c=rt(f[r]);let y;if(r===f.length-1)y=n(o[c]);else{const g=o[c],p=s(g);y=p!==void 0?p:W(g)?g:st(f[r+1])?[]:{}}Ot(o,c,y),o=o[c]}return t}function O(t,e,n){return It(t,e,()=>n,()=>{})}function Bt(t,e){const n=typeof t=="string"?t:null,s=(typeof t=="string"?e:t)??{},f=typeof s=="function"?s():s,o=n?j.restore(n):null;let r=b(f),c=null,y=null,g=i=>i;const p=nt({...o?o.data:f,isDirty:!1,errors:o?o.errors:{},hasErrors:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,processing:!1,setStore(i,u=void 0){p.update(a=>typeof i=="string"?O(a,i,u):Object.assign(a,i))},data(){return Object.keys(f).reduce((i,u)=>O(i,u,x(this,u)),{})},transform(i){return g=i,this},defaults(i,u){return typeof i>"u"?r=b(this.data()):r=typeof i=="string"?O(b(r),i,u):Object.assign(b(r),i),this},reset(...i){const u=b(r);return i.length===0?this.setStore(u):this.setStore(i.filter(a=>mt(u,a)).reduce((a,S)=>O(a,S,x(u,S)),{})),this},setError(i,u){return this.setStore("errors",{...this.errors,...typeof i=="string"?{[i]:u}:i}),this},clearErrors(...i){return this.setStore("errors",Object.keys(this.errors).reduce((u,a)=>({...u,...i.length>0&&!i.includes(a)?{[a]:this.errors[a]}:{}}),{})),this},submit(...i){const u=typeof i[0]=="object",a=u?i[0].method:i[0],S=u?i[0].url:i[1],d=(u?i[1]:i[2])??{},N=g(this.data()),U={...d,onCancelToken:h=>{if(c=h,d.onCancelToken)return d.onCancelToken(h)},onBefore:h=>{if(this.setStore("wasSuccessful",!1),this.setStore("recentlySuccessful",!1),y&&clearTimeout(y),d.onBefore)return d.onBefore(h)},onStart:h=>{if(this.setStore("processing",!0),d.onStart)return d.onStart(h)},onProgress:h=>{if(this.setStore("progress",h),d.onProgress)return d.onProgress(h)},onSuccess:async h=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors(),this.setStore("wasSuccessful",!0),this.setStore("recentlySuccessful",!0),this.defaults(b(this.data())),y=setTimeout(()=>this.setStore("recentlySuccessful",!1),2e3),d.onSuccess)return d.onSuccess(h)},onError:h=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors().setError(h),d.onError)return d.onError(h)},onCancel:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),d.onCancel)return d.onCancel()},onFinish:h=>{if(this.setStore("processing",!1),this.setStore("progress",null),c=null,d.onFinish)return d.onFinish(h)}};a==="delete"?j.delete(S,{...U,data:N}):j[a](S,N,U)},get(i,u){this.submit("get",i,u)},post(i,u){this.submit("post",i,u)},put(i,u){this.submit("put",i,u)},patch(i,u){this.submit("patch",i,u)},delete(i,u){this.submit("delete",i,u)},cancel(){c==null||c.cancel()}});return p.subscribe(i=>{i.isDirty===pt(i.data(),r)&&i.setStore("isDirty",!i.isDirty);const u=Object.keys(i.errors).length>0;i.hasErrors!==u&&i.setStore("hasErrors",!i.hasErrors),n&&j.remember({data:i.data(),errors:i.errors},n)}),p}export{Bt as u};
