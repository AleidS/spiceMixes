import{b as ie,p as v,i as le,t as w,e as a,d as l,r as t,B as oe,w as W,a as f,c as ne,E as ge,x as k,q as M,l as r,o as he,P as _e,f as ee,C as U,h as we,j as ye,z as V,n as ae,k as be,s as $e,D as Pe,W as ke,$ as Se,m as se}from"./app-AbXchTiO.js";import{a as ze}from"./link-DUPd5rNG.js";import{A as Ne,L as X,a as De}from"./AuthenticatedLayout-BhaC46vY.js";import{B as Z}from"./Button-B5Ca-Mjg.js";import Ie from"./MixCard-BHrrSS7V.js";import{I as Y,h as je}from"./Icon-PC25cBel.js";import{a as Ce}from"./attributes-D-juakaq.js";import{s as Te}from"./class-Bg5zJqZm.js";import{T as qe}from"./TextInput-CEQxC2Pa.js";import{S as re}from"./Switch-CQMtecsy.js";import"./snippet-CI-KNxKM.js";import"./style-cPQkG71g.js";import"./ApplicationLogo-vezY5GVP.js";import"./index-MlH93_JA.js";import"./slot-CUOS0f7I.js";import"./index-client-rhkxBqID.js";import"./FavoriteStar-rm7Xbl6r.js";import"./this-BIVjNolj.js";import"./input-D7xt5NDW.js";function Ae(g){return function(...i){var m=i[0];return m.preventDefault(),g==null?void 0:g.apply(this,i)}}var Le=w("<button><a><!></a></button>"),Me=w('<div class="bottom-0 m-auto w-full"><div class="m-auto flex w-fit max-w-[70vw] items-center justify-between gap-x-2 rounded-md bg-uiDark-600 px-4 py-3 sm:px-6"><div class=" flex flex-1 flex-wrap items-center justify-center gap-x-3 gap-y-2"><div><p class="text-sm text-uiGray-100">showing mix <span class="font-medium"> </span> to <span class="font-medium"> </span> from <span class="font-medium"> </span></p></div> <nav class="relative z-0 inline-flex gap-x-2 rounded-md bg-uiDark-400 p-2" aria-label="Pagination"></nav></div></div></div>');function Be(g,i){ie(i,!1);let m=v(i,"data",8),O=v(i,"updatedPageNumber",8,()=>{});console.log(m().meta),le();var y=Me(),h=a(y),S=a(h),b=a(S),B=a(b),z=l(a(B)),F=a(z,!0);t(z);var $=l(z,2),H=a($,!0);t($);var N=l($,2),_=a(N,!0);t(N),t(B),t(b);var P=l(b,2);oe(P,5,()=>m().meta.links,ge,(D,o)=>{var c=Le(),I=a(c),j=a(I);{var C=p=>{Y(p,{icon:"mdi:chevron-left",class:"mb-1 size-4"})},T=(p,E)=>{{var G=d=>{var q=_e(),K=ee(q);je(K,()=>r(o).label),f(d,q)},J=d=>{Y(d,{icon:"mdi:chevron-right",class:"mb-1 size-4"})};M(p,d=>{r(o).label!="Next &raquo;"?d(G):d(J,!1)},E)}};M(j,p=>{r(o).label=="&laquo; Previous"?p(C):p(T,!1)})}t(I),t(c),W(()=>{Ce(I,"href",r(o).url),Te(I,1,`flex w-5 items-center justify-center rounded-sm pt-1 text-sm text-uiGray-100 ${r(o).active?"bg-uiDark-300 font-bold":""}`)}),he("click",c,Ae(()=>O()(r(o).url.split("=")[1]))),f(D,c)}),t(P),t(S),t(h),t(y),W(()=>{k(F,m().meta.from),k(H,m().meta.to),k(_,m().meta.total)}),f(g,y),ne()}var Fe=w("<!> Add New Mix",1),Ee=w('<div class="group relative w-fit"><div class="popup smallPopup"> </div> <!></div> <div class="group relative w-fit"><div class="popup smallPopup !-top-4 !-translate-y-28"> </div> <!></div>',1),Ge=w('<div class="z-1 grid w-full grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3"></div>'),We=w('<span class="w-full text-center">Sorry! No mixes found.</span>'),Ye=w('<div class="z-1 relative m-auto mt-10 flex h-fit max-w-[950px] flex-1 flex-wrap items-start justify-start gap-2 gap-y-10 pb-16"><div class="w-full"><div class="min-h-6 w-full text-uiDark-100"> </div> <div class="flex h-fit w-full flex-1 flex-wrap items-center justify-between gap-2 gap-y-6 px-2"><h1 class="w-fit text-left">Mixes</h1> <!> <div class="-gap-2 order-1 flex w-full items-stretch sm:order-none sm:w-fit"><!> <!></div> <!></div></div> <!> <!></div>');function ut(g,i){ie(i,!1);const[m,O]=$e(),y=()=>ye(Pe,"$page",m);let h=v(i,"mixes",8);v(i,"measures",8);let S=v(i,"cuisines",8),b=v(i,"selectedCuisineId",8),B=v(i,"is_own",8),z=v(i,"show_favorites",8),F=v(i,"search",8),$=v(i,"pageNumber",12);console.log(h());const H=c=>{$(c),o()};let N=b(),_=U(B()==="true"),P=U(z()==="true"),D=U(F()!=!1?F():"");function o(){ke.get("/",{page:$(),cuisine_id:N,is_own:r(_),show_favorites:r(P),filter:{name:r(D)}},{preserveState:!0,preserveScroll:!0})}le(),we(c=>{Se.title="Mixes"}),Ne(g,{get cuisines(){return S()},get selectedCuisineId(){return b()},showFilter:!0,class:"z-0",children:(c,I)=>{var j=Ye(),C=a(j),T=a(C),p=a(T,!0);t(T);var E=l(T,2),G=l(a(E),2);{var J=e=>{X(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:order-1 sm:ml-0",children:(s,n)=>{Z(s,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,A)=>{var x=Fe(),L=ee(x);Y(L,{icon:"mdi:plus-circle",class:"mb-[3px] inline size-5"}),ae(),f(u,x)},$$slots:{default:!0}})},$$slots:{default:!0}})};M(G,e=>{y().props.auth.user&&e(J)})}var d=l(G,2),q=a(d);qe(q,{onkeydown:e=>{e.key==="Enter"&&o()},type:"text",placeholder:"Search by name",class:"input !flex-1 rounded-l-full",get value(){return r(D)},set value(e){V(D,e)},$$events:{clear:o},$$legacy:!0});var K=l(q,2);Z(K,{onclick:o,class:"z-10 my-[1px] -ml-2 !rounded-l-lg !rounded-r-full !bg-primary-600",children:(e,s)=>{Y(e,{icon:"mdi:magnify",class:"text-xl text-white"})},$$slots:{default:!0}}),t(d);var ue=l(d,2);{var de=e=>{var s=Ee(),n=ee(s),u=a(n),A=a(u,!0);t(u);var x=l(u,2);re(x,{text:"Your mixes",click:()=>{setTimeout(o,100)},get checked(){return r(_)},set checked(R){V(_,R)},$$legacy:!0}),t(n);var L=l(n,2),Q=a(L),pe=a(Q,!0);t(Q);var xe=l(Q,2);re(xe,{text:"Your favorites",click:()=>{setTimeout(o,100)},get checked(){return r(P)},set checked(R){V(P,R)},$$legacy:!0}),t(L),W(()=>{k(A,r(_)===!1?"Show your mixes only":"Show all mixes"),k(pe,r(_)===!1?"Show your favorite mixes only":"Show all mixes")}),f(e,s)},ve=e=>{X(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:ml-0",children:(s,n)=>{Z(s,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,A)=>{ae();var x=be("Login or register to add your own!");f(u,x)},$$slots:{default:!0}})},$$slots:{default:!0}})};M(ue,e=>{y().props.auth.user?e(de):e(ve,!1)})}t(E),t(C);var te=l(C,2);{var me=e=>{var s=Ge();oe(s,5,()=>h().data,n=>n.id,(n,u)=>{const A=se(()=>route("mixes.show",r(u).id));X(n,{get href(){return r(A)},children:(x,L)=>{Ie(x,{get mix(){return r(u)}})},$$slots:{default:!0}})}),t(s),ze(s,n=>{var u;return(u=De)==null?void 0:u(n)}),f(e,s)},ce=e=>{var s=We();f(e,s)};M(te,e=>{h().data.length>0?e(me):e(ce,!1)})}var fe=l(te,2);Be(fe,{get data(){return h()},updatedPageNumber:H}),t(j),W(e=>k(p,e),[()=>{var e,s;return(s=(e=S().data)==null?void 0:e.find(n=>n.id==N))==null?void 0:s.name}],se),f(c,j)},$$slots:{default:!0}}),ne(),O()}export{ut as default};
