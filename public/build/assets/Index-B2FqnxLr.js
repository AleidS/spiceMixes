import{b as oe,p as d,i as ne,t as w,e as a,d as l,r as t,B as ue,w as Y,a as v,c as de,E as he,x as k,q as B,l as r,o as _e,P as se,f as O,C as X,h as we,j as ye,z as Z,n as re,k as be,s as $e,D as Pe,W as ke,$ as Se,m as ie}from"./app-ClFOitKp.js";import{a as ze}from"./link-C6zcxKs0.js";import{A as Ne,L as ee,a as De}from"./AuthenticatedLayout-wUwZjr__.js";import{B as te}from"./Button-CghXALzl.js";import Ie from"./MixCard-VOvq_Hyg.js";import{I as H,h as je}from"./Icon-MjVsC_8-.js";import{a as Ce}from"./attributes-BG3USEjh.js";import{s as Te}from"./class-fkOcEQti.js";import{T as qe}from"./TextInput-DDRq9LMQ.js";import{S as le}from"./Switch-w0Ug4uJl.js";import"./snippet-DpQ8ZFX1.js";import"./ApplicationLogo-D9LpWbk9.js";import"./index-DgLgZNlo.js";import"./slot-BGhL9rCo.js";import"./index-client-cmpgzIg8.js";import"./FavoriteStar-DdsnVz__.js";import"./this-OQQW7Q8K.js";import"./input-nHK2ORfC.js";function Ae(g){return function(...i){var m=i[0];return m.preventDefault(),g==null?void 0:g.apply(this,i)}}var Le=w("<button><a><!></a></button>"),Me=w('<div class="bottom-0 m-auto w-full"><div class="m-auto flex w-fit max-w-[70vw] items-center justify-between gap-x-2 rounded-md bg-uiDark-600 px-4 py-3 sm:px-6"><div class=" flex flex-1 flex-wrap items-center justify-center gap-x-3 gap-y-2"><div><p class="text-sm text-uiGray-100">showing mix <span class="font-medium"> </span> to <span class="font-medium"> </span> from <span class="font-medium"> </span></p></div> <nav class="relative z-0 inline-flex gap-x-2 rounded-md bg-uiDark-400 p-2" aria-label="Pagination"></nav></div></div></div>');function Be(g,i){oe(i,!1);let m=d(i,"data",8),J=d(i,"updatedPageNumber",8,()=>{});console.log(m().meta),ne();var y=Me(),h=a(y),S=a(h),b=a(S),F=a(b),z=l(a(F)),E=a(z,!0);t(z);var $=l(z,2),K=a($,!0);t($);var N=l($,2),_=a(N,!0);t(N),t(F),t(b);var P=l(b,2);ue(P,5,()=>m().meta.links,he,(D,o)=>{var c=Le(),I=a(c),j=a(I);{var C=p=>{H(p,{icon:"mdi:chevron-left",class:"mb-1 size-4"})},T=p=>{var q=se(),G=O(q);{var Q=f=>{var W=se(),R=O(W);je(R,()=>r(o).label,!1,!1),v(f,W)},A=f=>{H(f,{icon:"mdi:chevron-right",class:"mb-1 size-4"})};B(G,f=>{r(o).label!="Next &raquo;"?f(Q):f(A,!1)},!0)}v(p,q)};B(j,p=>{r(o).label=="&laquo; Previous"?p(C):p(T,!1)})}t(I),t(c),Y(()=>{Ce(I,"href",r(o).url),Te(I,`flex w-5 items-center justify-center rounded-sm pt-1 text-sm text-uiGray-100 ${(r(o).active?"bg-uiDark-300 font-bold":"")??""}`)}),_e("click",c,Ae(()=>J()(r(o).url.split("=")[1]))),v(D,c)}),t(P),t(S),t(h),t(y),Y(()=>{k(E,m().meta.from),k(K,m().meta.to),k(_,m().meta.total)}),v(g,y),de()}var Fe=w("<!> Add New Mix",1),Ee=w('<div class="group relative w-fit"><div class="popup smallPopup"> </div> <!></div> <div class="group relative w-fit"><div class="popup smallPopup !-top-4 !-translate-y-28"> </div> <!></div>',1),Ge=w('<div class="z-1 grid w-full grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3"></div>'),We=w('<span class="w-full text-center">Sorry! No mixes found.</span>'),Ye=w('<div class="z-1 relative m-auto mt-10 flex h-fit max-w-[950px] flex-1 flex-wrap items-start justify-start gap-2 gap-y-10 pb-16"><div class="w-full"><div class="min-h-6 w-full text-uiDark-100"> </div> <div class="flex h-fit w-full flex-1 flex-wrap items-center justify-between gap-2 gap-y-6 px-2"><h1 class="w-fit text-left">Mixes</h1> <!> <div class="-gap-2 order-1 flex w-full items-stretch sm:order-none sm:w-fit"><!> <!></div> <!></div></div> <!> <!></div>');function nt(g,i){oe(i,!1);const[m,J]=$e(),y=()=>ye(Pe,"$page",m);let h=d(i,"mixes",8);d(i,"measures",8);let S=d(i,"cuisines",8),b=d(i,"selectedCuisineId",8),F=d(i,"is_own",8),z=d(i,"show_favorites",8),E=d(i,"search",8),$=d(i,"pageNumber",12);console.log(h());const K=c=>{$(c),o()};let N=b(),_=X(F()==="true"),P=X(z()==="true"),D=X(E()!=!1?E():"");function o(){ke.get("/",{page:$(),cuisine_id:N,is_own:r(_),show_favorites:r(P),filter:{name:r(D)}},{preserveState:!0,preserveScroll:!0})}ne(),we(c=>{Se.title="Mixes"}),Ne(g,{get cuisines(){return S()},get selectedCuisineId(){return b()},showFilter:!0,class:"z-0",children:(c,I)=>{var j=Ye(),C=a(j),T=a(C),p=a(T,!0);t(T);var q=l(T,2),G=l(a(q),2);{var Q=e=>{ee(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:order-1 sm:ml-0",children:(s,n)=>{te(s,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,L)=>{var x=Fe(),M=O(x);H(M,{icon:"mdi:plus-circle",class:"mb-[3px] inline size-5"}),re(),v(u,x)},$$slots:{default:!0}})},$$slots:{default:!0}})};B(G,e=>{y().props.auth.user&&e(Q)})}var A=l(G,2),f=a(A);qe(f,{onkeydown:e=>{e.key==="Enter"&&o()},type:"text",placeholder:"Search by name",class:"input !flex-1 rounded-l-full",get value(){return r(D)},set value(e){Z(D,e)},$$events:{clear:o},$$legacy:!0});var W=l(f,2);te(W,{onclick:o,class:"z-10 my-[1px] -ml-2 !rounded-l-lg !rounded-r-full !bg-primary-600",children:(e,s)=>{H(e,{icon:"mdi:magnify",class:"text-xl text-white"})},$$slots:{default:!0}}),t(A);var R=l(A,2);{var ve=e=>{var s=Ee(),n=O(s),u=a(n),L=a(u,!0);t(u);var x=l(u,2);le(x,{text:"Your mixes",click:()=>{setTimeout(o,100)},get checked(){return r(_)},set checked(V){Z(_,V)},$$legacy:!0}),t(n);var M=l(n,2),U=a(M),xe=a(U,!0);t(U);var ge=l(U,2);le(ge,{text:"Your favorites",click:()=>{setTimeout(o,100)},get checked(){return r(P)},set checked(V){Z(P,V)},$$legacy:!0}),t(M),Y(()=>{k(L,r(_)===!1?"Show your mixes only":"Show all mixes"),k(xe,r(_)===!1?"Show your favorite mixes only":"Show all mixes")}),v(e,s)},me=e=>{ee(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:ml-0",children:(s,n)=>{te(s,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,L)=>{re();var x=be("Login or register to add your own!");v(u,x)},$$slots:{default:!0}})},$$slots:{default:!0}})};B(R,e=>{y().props.auth.user?e(ve):e(me,!1)})}t(q),t(C);var ae=l(C,2);{var ce=e=>{var s=Ge();ue(s,5,()=>h().data,n=>n.id,(n,u)=>{const L=ie(()=>route("mixes.show",r(u).id));ee(n,{get href(){return r(L)},children:(x,M)=>{Ie(x,{get mix(){return r(u)}})},$$slots:{default:!0}})}),t(s),ze(s,n=>{var u;return(u=De)==null?void 0:u(n)}),v(e,s)},fe=e=>{var s=We();v(e,s)};B(ae,e=>{h().data.length>0?e(ce):e(fe,!1)})}var pe=l(ae,2);Be(pe,{get data(){return h()},updatedPageNumber:K}),t(j),Y(e=>k(p,e),[()=>{var e,s;return(s=(e=S().data)==null?void 0:e.find(n=>n.id==N))==null?void 0:s.name}],ie),v(c,j)},$$slots:{default:!0}}),de(),J()}export{nt as default};
