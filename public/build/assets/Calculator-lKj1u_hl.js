import{b as push,M as legacy_pre_effect,O as legacy_pre_effect_reset,i as init,t as template,e as child,r as reset,d as sibling,n as next,k as text,a as append,w as template_effect,c as pop,z as set,l as get,C as mutable_source,x as set_text}from"./app-AbXchTiO.js";import{r as remove_input_defaults,b as set_value}from"./attributes-D-juakaq.js";import Keypad from"./Keypad-BlE7YaxX.js";import{I as Icon}from"./Icon-PC25cBel.js";import"./style-cPQkG71g.js";import"./class-Bg5zJqZm.js";import"./slot-CUOS0f7I.js";import"./index-client-rhkxBqID.js";var root=template('<section class="app svelte-1dz7exb"><div class="results svelte-1dz7exb"><div class="calculations svelte-1dz7exb"> </div> <input type="text" class="total svelte-1dz7exb"></div> <div class="input-pad svelte-1dz7exb"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div></section>');function Calculator($$anchor,$$props){push($$props,!1);let numberInput=mutable_source(""),total=mutable_source(0);function addToEquation(e){set(numberInput,get(numberInput)+e)}function removeFromEquation(){console.log(get(numberInput).length),get(numberInput).length>0&&set(numberInput,get(numberInput).slice(0,-1))}const clear=()=>{set(total,0),set(numberInput,"")};function calculate(){get(numberInput)!==""&&set(numberInput,result().toString())}let result=()=>isNaN(get(numberInput).slice(-1))?eval(get(numberInput).slice(0,-1)):eval(get(numberInput));legacy_pre_effect(()=>get(numberInput),()=>{get(numberInput)!==""&&!isNaN(get(numberInput).slice(-1))&&get(numberInput)!=result()&&set(total,result().toString())}),legacy_pre_effect_reset(),init();var section=root(),div=child(section),div_1=child(div),text$1=child(div_1,!0);reset(div_1);var input=sibling(div_1,2);remove_input_defaults(input),reset(div);var div_2=sibling(div,2),node=child(div_2);Keypad(node,{expand:"3",type:"clear",clicked:clear});var node_1=sibling(node,2);Keypad(node_1,{type:"operator",clicked:e=>{e.stopPropagation(),addToEquation("/")},children:(e,o)=>{next();var t=text("รท");append(e,t)},$$slots:{default:!0}});var node_2=sibling(node_1,2);Keypad(node_2,{clicked:e=>{e.stopPropagation(),addToEquation(9)},children:(e,o)=>{next();var t=text("9");append(e,t)},$$slots:{default:!0}});var node_3=sibling(node_2,2);Keypad(node_3,{clicked:e=>{e.stopPropagation(),addToEquation(8)},children:(e,o)=>{next();var t=text("8");append(e,t)},$$slots:{default:!0}});var node_4=sibling(node_3,2);Keypad(node_4,{clicked:e=>{e.stopPropagation(),addToEquation(7)},children:(e,o)=>{next();var t=text("7");append(e,t)},$$slots:{default:!0}});var node_5=sibling(node_4,2);Keypad(node_5,{type:"operator",clicked:e=>{e.stopPropagation(),addToEquation("*")},children:(e,o)=>{next();var t=text("x");append(e,t)},$$slots:{default:!0}});var node_6=sibling(node_5,2);Keypad(node_6,{clicked:e=>{e.stopPropagation(),addToEquation(6)},children:(e,o)=>{next();var t=text("6");append(e,t)},$$slots:{default:!0}});var node_7=sibling(node_6,2);Keypad(node_7,{clicked:e=>{e.stopPropagation(),addToEquation(5)},children:(e,o)=>{next();var t=text("5");append(e,t)},$$slots:{default:!0}});var node_8=sibling(node_7,2);Keypad(node_8,{clicked:e=>{e.stopPropagation(),addToEquation(4)},children:(e,o)=>{next();var t=text("4");append(e,t)},$$slots:{default:!0}});var node_9=sibling(node_8,2);Keypad(node_9,{type:"operator",clicked:e=>{e.stopPropagation(),addToEquation("-")},children:(e,o)=>{next();var t=text("-");append(e,t)},$$slots:{default:!0}});var node_10=sibling(node_9,2);Keypad(node_10,{clicked:e=>{e.stopPropagation(),addToEquation(3)},children:(e,o)=>{next();var t=text("3");append(e,t)},$$slots:{default:!0}});var node_11=sibling(node_10,2);Keypad(node_11,{clicked:e=>{e.stopPropagation(),addToEquation(2)},children:(e,o)=>{next();var t=text("2");append(e,t)},$$slots:{default:!0}});var node_12=sibling(node_11,2);Keypad(node_12,{clicked:e=>{e.stopPropagation(),addToEquation(1)},children:(e,o)=>{next();var t=text("1");append(e,t)},$$slots:{default:!0}});var node_13=sibling(node_12,2);Keypad(node_13,{type:"operator",clicked:e=>{e.stopPropagation(),addToEquation("+")},children:(e,o)=>{next();var t=text("+");append(e,t)},$$slots:{default:!0}});var node_14=sibling(node_13,2);Keypad(node_14,{type:"operator",expand:"1",clicked:e=>{e.stopPropagation(),addToEquation(".")},children:(e,o)=>{next();var t=text(".");append(e,t)},$$slots:{default:!0}});var node_15=sibling(node_14,2);Keypad(node_15,{expand:"1",clicked:e=>{e.stopPropagation(),addToEquation(0)},children:(e,o)=>{next();var t=text("0");append(e,t)},$$slots:{default:!0}});var node_16=sibling(node_15,2);Keypad(node_16,{type:"operator",expand:"1",class:"!flex !items-center !justify-center !text-center",clicked:e=>{e.stopPropagation(),removeFromEquation()},children:(e,o)=>{Icon(e,{icon:"mdi:backspace",class:"inline"})},$$slots:{default:!0}});var node_17=sibling(node_16,2);Keypad(node_17,{type:"equal",clicked:e=>{e.stopPropagation(),calculate()},children:(e,o)=>{next();var t=text("=");append(e,t)},$$slots:{default:!0}}),reset(div_2),reset(section),template_effect(()=>{set_text(text$1,get(numberInput)),set_value(input,get(total)!==0?get(total):"")}),append($$anchor,section),pop()}export{Calculator as default};
