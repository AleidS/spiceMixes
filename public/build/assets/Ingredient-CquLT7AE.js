import{X as M,Y as g,b as X,z as Y,P as B,A as H,t as z,d as v,e as c,r as f,q as j,w,a as T,c as J,x as p,n as A,l as K}from"./app-KVSHziSA.js";import{I as Q}from"./Icon-CDzqbr2i.js";function R(e,t){let a=1,o=1,s=Math.abs(e-a/o);for(let i=2;i<=t;i++){const u=Math.round(e*i),h=Math.abs(e-u/i);h<s&&(s=h,a=u,o=i)}return[a,o]}function b(e,t=4){let a=Math.floor(e);const o=e-a,[s,i]=R(o,t),u=s!==0&&s!=i?`${s}/${i}`:"";return s==i&&(a+=1),`${a>=1?a:""}${u?" ":""}${u}`}const C=M(!1);function re(){C.update(e=>!e),l.update(e=>e+1),l.update(e=>e-1)}const l=M(1);let U=M("");function ne(e,t){l.update(a=>a*2),console.log(g(l)),D(e,t,g(l))}function se(e,t){l.update(a=>a/2),console.log(g(l)),D(e,t,g(l))}function ie(e,t){l.set(1),console.log(g(l)),D(e,t,g(l))}function F(e,t){if(t==="Ts")return e*5;if(t==="Tbsp")return e*15;if(t==="Cups")return e*240;if(t==="pinches")return e*.315;if(t==="dl")return e*100;if(t==="l")return e*1e3;if(t==="ml")return e*1}function E(e,t=!0){return e>1e4?`a truckload ${t?"of":""}`:e>150?`${b(e/240,4)} Cups`:e>10?`${b(e/15,4)} Tbsp`:e>1.2?`${b(e/5,4)} Ts`:e>=.05?`${b(e/.315,4)} Pinches`:`no${t?"":"t"} detectable`}function W(e,t){if(g(C)||!["Tbsp","Ts","Cups","dl","l","ml"].includes(t))return`${b(e)} ${t}`;{let o=F(e,t);return E(o)}}function D(e,t){let a=0;e.data.ingredients.forEach(o=>{const s=t.data.find(i=>i.id==o.measure_id);s&&(a+=F(o.quantity,s.name)??0)}),a*=g(l),console.log(a),U.set(E(a,!1))}var Z=z('<div class="group inline-flex justify-center sm:relative"><div class="inline w-fit -translate-y-2 rounded-full bg-uiDark-50 p-[2px] text-[6pt] font-bold text-uiDark-600">NL</div> <div class="absolute left-8 z-10 hidden w-40 translate-y-4 rounded-md bg-uiDark-400 p-4 group-hover:block sm:-right-8 sm:left-auto"><span><strong>Dutch translation:</strong> <br> </span></div></div>'),$=z(`<div class="group inline sm:relative"><span><!></span> <div class="absolute left-8 z-10 hidden w-64
                                            rounded-md bg-uiDark-400 p-4 group-hover:block sm:-left-20 sm:w-80"><strong> <br></strong> <div class="lh text-sm text-uiGray-200"><br> (Alternatives are not specific to this recipe)</div></div></div>`),q=z('<li class="list-none"><input type="checkbox" class="checkbox"> <span> </span> <!> <!></li>');function ee(e,t){var P;X(t,!0);let a=H(1);l.subscribe(r=>{Y(a,B(r))});let o=(P=t.measures.data.find(r=>r.id==t.ingredient.measure_id))==null?void 0:P.name;var s=q(),i=v(c(s)),u=v(i),h=c(u,!0);f(u);var I=v(u,2);{var N=r=>{var n=Z(),d=v(c(n),2),_=c(d),x=v(c(_),3,!0);f(_),f(d),f(n),w(()=>{var m,k;return p(x,((k=(m=t.ingredient)==null?void 0:m.alternatives)==null?void 0:k.dutch_name)??"")}),T(r,n)};j(I,r=>{var n,d;(d=(n=t.ingredient)==null?void 0:n.alternatives)!=null&&d.dutch_name&&r(N)})}var G=v(I,2);{var L=r=>{var n=$(),d=c(n),_=c(d);Q(_,{icon:"material-symbols:swap-horizontal-circle-rounded",class:"inline -translate-y-2 text-uiDark-50"}),f(d);var x=v(d,2),m=c(x),k=c(m);A(),f(m);var V=v(m);A(),f(x),f(n),w(()=>{var y,O,S;p(k,`Possible alternatives to ${((y=t.ingredient)==null?void 0:y.name)??""}:`),p(V,` ${((S=(O=t.ingredient)==null?void 0:O.alternatives)==null?void 0:S.alternatives)??""} `)}),T(r,n)};j(G,r=>{var n,d;(d=(n=t.ingredient)==null?void 0:n.alternatives)!=null&&d.alternatives&&r(L)})}f(s),w(r=>{var n;p(i,` ${r??""}   `),p(h,(n=t.ingredient)==null?void 0:n.name)},[()=>{var r;return W(((r=t.ingredient)==null?void 0:r.quantity)*K(a),o)}]),T(e,s),J()}const le=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as I,le as a,D as c,ne as d,se as h,l as m,ie as o,re as s,U as t,C as u};
