import{X as D,Y as p,b as H,z as J,P as K,A as Q,t as M,d as f,e as u,r as c,q as C,w,a as T,c as R,x,n as F,l as U}from"./app-DU2Tsdzb.js";import{I as W}from"./Icon-t5DdAySO.js";function Z(e,t){let r=1,o=1,i=Math.abs(e-r/o);for(let s=2;s<=t;s++){const v=Math.round(e*s),g=Math.abs(e-v/s);g<i&&(i=g,r=v,o=s)}return[r,o]}function h(e,t=4){let r=Math.floor(e);const o=e-r,[i,s]=Z(o,t),v=i!==0&&i!=s?`${i}/${s}`:"";return i==s&&(r+=1),`${r>=1?r:""}${v?" ":""}${v}`}const y=D(!1);function se(){y.update(e=>!e),l.update(e=>e+1),l.update(e=>e-1)}const l=D(1);let $=D("");function le(e,t){l.update(r=>r*2),console.log(p(l)),I(e,t,p(l))}function oe(e,t){l.update(r=>r/2),console.log(p(l)),I(e,t,p(l))}function de(e,t){l.set(1),console.log(p(l)),I(e,t,p(l))}function E(e,t){if(t==="Ts")return e*5;if(t==="Tbsp")return e*15;if(t==="Cups")return e*240;if(t==="pinches")return e*.315;if(t==="dl")return e*100;if(t==="l")return e*1e3;if(t==="ml")return e*1}function N(e,t=!0){return e>1e4?`a truckload ${t?"of":""}`:e>150?`${h(e/240,4)} Cups`:e>10?`${h(e/15,4)} Tbsp`:e>1.2?`${h(e/5,4)} Ts`:e>=.05?`${h(e/.315,4)} Pinches`:`no${t?"":"t"} detectable`}function q(e,t){if(p(y)||!["Tbsp","Ts","Cups","dl","l","ml"].includes(t))return`${h(e)} ${t}`;{let o=E(e,t);return N(o)}}function I(e,t){let r=0;e.data.ingredients.forEach(o=>{const i=t.data.find(s=>s.id==o.measure_id);i&&(r+=E(o.quantity,i.name)??0)}),r*=p(l),console.log(r),$.set(N(r,!1))}var ee=M('<div class="group inline sm:relative"><div class="inline-flex w-fit -translate-y-1 items-center justify-center rounded-full border border-uiDark-300 bg-uiDark-700 p-[4px] pt-1 text-[6pt] font-bold text-uiDark-100"><span>NL</span></div> <div class="popup"><span><strong>Dutch translation:</strong> <br> </span></div></div>'),te=M(`<div class="group inline sm:relative"><div class="inline-flex w-fit rounded-full border border-uiDark-300 bg-uiDark-700 p-[2px] text-sm font-bold text-uiDark-100"><div><!></div></div> <div class="popup"><strong> <br></strong> <div class="lh text-sm text-uiGray-200"><br> (Alternatives are not specific to this recipe, words like 'ground', 'powder'
                        and 'dried' are ignored)</div></div></div>`),re=M('<li class="grid list-none grid-cols-10"><input type="checkbox" class="checkbox col-span-1">   <div class="col-span-9"> <span> </span> <!> <!></div></li>');function ae(e,t){var z;H(t,!0);let r=Q(1);l.subscribe(a=>{J(r,K(a))});let o=(z=t.measures.data.find(a=>a.id==t.ingredient.measure_id))==null?void 0:z.name;var i=re(),s=f(u(i),2),v=u(s),g=f(v),G=u(g,!0);c(g);var P=f(g,2);{var L=a=>{var n=ee(),d=f(u(n),2),b=u(d),k=f(u(b),3,!0);c(b),c(d),c(n),w(()=>{var _,m;return x(k,((m=(_=t.ingredient)==null?void 0:_.alternatives)==null?void 0:m.dutch_name)??"")}),T(a,n)};C(P,a=>{var n,d;(d=(n=t.ingredient)==null?void 0:n.alternatives)!=null&&d.dutch_name&&a(L)})}var V=f(P,2);{var X=a=>{var n=te(),d=u(n),b=u(d),k=u(b);W(k,{icon:"mdi:swap-horizontal",class:" text-uiDark-50"}),c(b),c(d);var _=f(d,2),m=u(_),Y=u(m);F(),c(m);var B=f(m);F(),c(_),c(n),w(()=>{var O,S,j,A;x(Y,`Possible alternatives to ${((S=(O=t.ingredient)==null?void 0:O.alternatives)==null?void 0:S.name)??""}:`),x(B,` ${((A=(j=t.ingredient)==null?void 0:j.alternatives)==null?void 0:A.alternatives)??""} `)}),T(a,n)};C(V,a=>{var n,d;(d=(n=t.ingredient)==null?void 0:n.alternatives)!=null&&d.alternatives&&a(X)})}c(s),c(i),w(a=>{var n;x(v,`${a??""} `),x(G,(n=t.ingredient)==null?void 0:n.name)},[()=>{var a;return q(((a=t.ingredient)==null?void 0:a.quantity)*U(r),o)}]),T(e,i),R()}const ue=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ae as I,ue as a,I as c,le as d,oe as h,l as m,de as o,se as s,$ as t,y as u};
