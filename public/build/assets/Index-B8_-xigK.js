import{b as me,p as f,i as ve,t as F,e as w,d as $,r as h,B as be,w as ie,a as E,c as pe,E as Se,x as ae,q as X,l as e,o as ke,N as U,f as A,R as ne,S as Te,C as B,z,T as de,U as Ee,h as ze,j as $e,n as he,m as te,k as Ie,s as Me,D as Oe,W as De,$ as Ne}from"./app-DU2Tsdzb.js";import{a as Re}from"./link-1H3S82dx.js";import{A as We,L as ce,a as Be}from"./AuthenticatedLayout-Bn-ayv8g.js";import{B as fe}from"./Button-PKnroGvv.js";import je from"./MixCard-urbgRFbV.js";import{I as se,h as Pe}from"./Icon-t5DdAySO.js";import{a as Ce}from"./attributes-FMgv7XY-.js";import{s as Le,t as ge}from"./class-C6e2rp3v.js";import{T as Ae}from"./TextInput-4G1lstRG.js";import{S as we}from"./Switch-Der-IlOm.js";import{s as xe}from"./slot-D1J4N00U.js";import{b as _e}from"./this-hSzMQXyE.js";import{o as Fe,a as He}from"./index-client-Zyxaco3m.js";import"./snippet-DyqTDoR7.js";import"./ApplicationLogo-EfAlQTjr.js";import"./index-gOtqFug7.js";import"./FavoriteStar-OHk8ArPc.js";import"./input-VCuu0KOk.js";function Ve(u){return function(...t){var m=t[0];return m.preventDefault(),u==null?void 0:u.apply(this,t)}}var qe=F("<button><a><!></a></button>"),Ye=F('<div class="bottom-0 m-auto w-full"><div class="m-auto flex w-fit max-w-[70vw] items-center justify-between gap-x-2 rounded-md bg-uiDark-600 px-4 py-3 sm:px-6"><div class=" flex flex-1 flex-wrap items-center justify-center gap-x-3 gap-y-2"><div><p class="text-sm text-uiGray-100">showing mix <span class="font-medium"> </span> to <span class="font-medium"> </span> from <span class="font-medium"> </span></p></div> <nav class="relative z-0 inline-flex gap-x-2 rounded-md bg-uiDark-400 p-2" aria-label="Pagination"></nav></div></div></div>');function Xe(u,t){me(t,!1);let m=f(t,"data",8),l=f(t,"updatedPageNumber",8,()=>{});console.log(m().meta),ve();var d=Ye(),r=w(d),c=w(r),n=w(c),v=w(n),D=$(w(v)),O=w(D,!0);h(D);var k=$(D,2),x=w(k,!0);h(k);var I=$(k,2),P=w(I,!0);h(I),h(v),h(n);var C=$(n,2);be(C,5,()=>m().meta.links,Se,(s,i)=>{var _=qe(),y=w(_),H=w(y);{var j=L=>{se(L,{icon:"mdi:chevron-left",class:"mb-1 size-4"})},N=L=>{var M=U(),V=A(M);{var Z=b=>{var q=U(),G=A(q);Pe(G,()=>e(i).label,!1,!1),E(b,q)},R=b=>{se(b,{icon:"mdi:chevron-right",class:"mb-1 size-4"})};X(V,b=>{e(i).label!="Next &raquo;"?b(Z):b(R,!1)},!0)}E(L,M)};X(H,L=>{e(i).label=="&laquo; Previous"?L(j):L(N,!1)})}h(y),h(_),ie(()=>{Ce(y,"href",e(i).url),Le(y,`flex w-5 items-center justify-center rounded-sm pt-1 text-sm text-uiGray-100 ${(e(i).active?"bg-uiDark-300 font-bold":"")??""}`)}),ke("click",_,Ve(()=>l()(e(i).url.split("=")[1]))),E(s,_)}),h(C),h(c),h(r),h(d),ie(()=>{ae(O,m().meta.from),ae(x,m().meta.to),ae(P,m().meta.total)}),E(u,d),pe()}const Ze=u=>u.replace(/-_$/g,"").replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase(),Ge=(u,t)=>{const l=u.getBoundingClientRect().width+2,d=window.getComputedStyle(u),r=parseInt(d.getPropertyValue("padding-left"),10),c=parseInt(d.getPropertyValue("padding-right"),10),n=r+c,v=l-n;return Math.round(Math.min(t,v||t))},Ke=(u,t=null,m)=>{const l=u.getBoundingClientRect(),d=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;let c=l.bottom>0&&l.top<r&&l.right>0&&l.left<d;if(t){const n=t.getBoundingClientRect();return m==="top"||m==="bottom"?c=n.bottom+n.height<r&&n.top<r:c=n.right+n.width<d&&n.left<d,c}return c},ue=(u,t,m,l)=>{if(!u||!t)return l;const d=t.getBoundingClientRect(),r=u.getBoundingClientRect(),c=window.getComputedStyle(u).position;window.getComputedStyle(u);let n=0,v=0,D=0,O=0,k=0,x=u;for(;x&&x!==document.body;){const C=window.getComputedStyle(x),s=C.position,i=x.getBoundingClientRect();s==="fixed"?(D+=i.top+window.scrollY,k+=i.left+window.scrollX):s==="sticky"?(O+=i.top,k+=i.left+window.scrollX):(s==="absolute"||s==="relative")&&(s==="absolute"&&(n-=parseFloat(C.top)||0,v-=parseFloat(C.left)||0),s==="relative"&&(n-=x.offsetTop,v-=x.offsetLeft,m==="bottom"&&(n+=r.height),m==="right"&&(v-=r.width),c==="absolute"&&m==="right"&&(v+=r.width)));const _=C.transform;if(_&&_!=="none"){const y=new DOMMatrix(_);s==="relative"||s==="absolute"?(n-=y.m42,v-=y.m41):(n-=x.offsetTop+y.m42,v-=x.offsetLeft+y.m41)}x=x.parentElement}let I=r.top+n+O-D,P=r.left+v-k;switch(m){case"top":l.top=I,l.left=P+r.width/2;break;case"bottom":l.top=I-d.height,l.left=P+r.width/2;break;case"left":l.left=P,l.top=I+r.height/2;break;case"right":l.left=P+r.width-d.width,l.top=I+r.height/2;break}return l.top+=window.scrollY,l.left+=window.scrollX,l},Ue={left:"right",right:"left",top:"bottom",bottom:"top"};var Je=F('<span class="tooltip-container"><!></span> <div><!></div>',1);function ye(u,t){me(t,!1);const m=B();let l=f(t,"action",8,"hover"),d=f(t,"content",8,""),r=f(t,"align",8,"left"),c=f(t,"position",12,"top"),n=f(t,"maxWidth",8,200),v=f(t,"style",8,null),D=f(t,"theme",8,""),O=f(t,"animation",8,""),k=f(t,"hideOnClickOutside",8,!1),x=f(t,"delay",8,200),I=f(t,"arrow",8,!0),P=f(t,"autoPosition",8,!1),C=f(t,"show",8,!1),s=B(null),i=B(null),_=B(0),y=null,H=c(),j=B(null),N=null,L=B(!1),M=B({bottom:0,top:0,right:0,left:0});const V=({target:g})=>{var a,o;k()&&e(s)!==g&&e(i)!==g&&!((a=e(s))!=null&&a.parentNode.contains(g))&&!((o=e(i))!=null&&o.contains(g))&&b()},Z=()=>{e(L)?b():R()},R=()=>{const g=O()?x():0;P()&&!Ke(e(s),e(i),c())&&c(Ue[c()]),z(M,ue(e(s),e(i),c(),e(M))),O()&&z(j,O()),N=setTimeout(()=>z(L,!0),g)},b=()=>{z(L,!1),c(H),z(j,null),N&&(clearTimeout(N),N=null)},q=()=>{e(s)!==null&&(G(),l()==="click"&&(e(s).addEventListener("click",Z),k()&&document.addEventListener("click",V,{passive:!0,capture:!0})),l()==="hover"&&(e(s).addEventListener("mouseenter",R),e(s).addEventListener("mouseleave",b)))},G=()=>{k()&&document.removeEventListener("click",V),e(s)!==null&&(e(s).removeEventListener("click",Z),e(s).removeEventListener("mouseenter",R),e(s).removeEventListener("mouseleave",b))};Fe(()=>{if(q(),ue(),e(i)!==null&&(e(m)&&!y&&(y=new(d()).component({target:e(i),props:d().props})),z(_,Ge(e(i),n())),v()&&typeof v()=="object"))for(let g in v()){const a=Ze(g),o=v()[g];e(i).style.setProperty(`--tooltip-${a}`,o)}}),He(()=>{y&&(y.$destroy(),y=null),G()});const oe=()=>{e(L)&&z(M,ue(e(s),e(i),c(),e(M)))};ne(()=>de(d()),()=>{z(m,typeof d()=="object")}),ne(()=>de(l()),()=>{l(),q()}),ne(()=>(e(i),de(C())),()=>{e(i)&&C()?setTimeout(R,0):setTimeout(b,0)}),Te(),ve();var J=U();ke("resize",Ee,oe);var Q=A(J);{var le=g=>{var a=Je(),o=A(a),S=w(o);xe(S,t,"default",{},null),h(o),_e(o,T=>z(s,T),()=>e(s));var p=$(o,2),Y=w(p);{var W=T=>{var ee=U(),K=A(ee);Pe(K,d,!1,!1),E(T,ee)};X(Y,T=>{e(m)||T(W)})}h(p),_e(p,T=>z(i,T),()=>e(i)),ie(()=>{Le(p,`tooltip animation-${e(j)??""} ${c()??""} ${D()??""} svelte-1xktviv`),Ce(p,"style",`bottom: auto; right: auto; left: ${e(M).left??""}px; min-width: ${e(_)??""}px; max-width: ${n()??""}px; text-align: ${r()??""}; top: ${e(M).top??""}px;`),ge(p,"arrowless",!I()),ge(p,"show",e(L))}),E(g,a)},re=g=>{var a=U(),o=A(a);xe(o,t,"default",{},null),E(g,a)};X(Q,g=>{d()?g(le):g(re,!1)})}E(u,J),pe()}var Qe=F("<!> Add New Mix",1),et=F("<!> <!>",1),tt=F('<div class="z-1 grid w-full grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3"></div>'),at=F('<span class="w-full text-center">Sorry! No mixes found.</span>'),it=F('<div class="z-1 relative m-auto mt-10 flex h-fit max-w-[950px] flex-1 flex-wrap items-start justify-start gap-2 gap-y-10 pb-16"><div class="w-full"><div class="min-h-6 w-full text-uiDark-100"> </div> <div class="flex h-fit w-full flex-1 flex-wrap items-center justify-between gap-2 gap-y-6 px-2"><h1 class="w-fit text-left">Mixes</h1> <!> <div class="-gap-2 order-1 flex w-full items-stretch sm:order-none sm:w-fit"><!> <!></div> <!></div></div> <!> <!></div>');function bt(u,t){me(t,!1);const[m,l]=Me(),d=()=>$e(Oe,"$page",m);let r=f(t,"mixes",8);f(t,"measures",8);let c=f(t,"cuisines",8),n=f(t,"selectedCuisineId",8),v=f(t,"is_own",8),D=f(t,"show_favorites",8),O=f(t,"search",8),k=f(t,"pageNumber",12);console.log(r());const x=_=>{k(_),i()};let I=n(),P=B(v()==="true"),C=B(D()==="true"),s=B(O()!=!1?O():"");function i(){De.get("/",{page:k(),cuisine_id:I,is_own:e(P),show_favorites:e(C),filter:{name:e(s)}},{preserveState:!0,preserveScroll:!0})}ve(),ze(_=>{Ne.title="Mixes"}),We(u,{get cuisines(){return c()},get selectedCuisineId(){return n()},showFilter:!0,class:"z-0",children:(_,y)=>{var H=it(),j=w(H),N=w(j),L=w(N,!0);h(N);var M=$(N,2),V=$(w(M),2);{var Z=a=>{ce(a,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:order-1 sm:ml-0",children:(o,S)=>{fe(o,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(p,Y)=>{var W=Qe(),T=A(W);se(T,{icon:"mdi:plus-circle",class:"mb-[3px] inline size-5"}),he(),E(p,W)},$$slots:{default:!0}})},$$slots:{default:!0}})};X(V,a=>{d().props.auth.user&&a(Z)})}var R=$(V,2),b=w(R);Ae(b,{onkeydown:a=>{a.key==="Enter"&&i()},type:"text",placeholder:"Search by name",class:"input !flex-1 rounded-l-full",get value(){return e(s)},set value(a){z(s,a)},$$events:{clear:i},$$legacy:!0});var q=$(b,2);fe(q,{onclick:i,class:"z-10 my-[1px] -ml-2 !rounded-l-lg !rounded-r-full !bg-primary-600",children:(a,o)=>{se(a,{icon:"mdi:magnify",class:"text-xl text-white"})},$$slots:{default:!0}}),h(R);var G=$(R,2);{var oe=a=>{var o=et(),S=A(o);const p=te(()=>e(P)===!1?"Show your mixes only":"Show all mixes");ye(S,{get content(){return e(p)},children:(T,ee)=>{we(T,{text:"Your mixes",click:()=>{setTimeout(i,100)},get checked(){return e(P)},set checked(K){z(P,K)},$$legacy:!0})},$$slots:{default:!0}});var Y=$(S,2);const W=te(()=>e(P)===!1?"Show your favorite mixes only":"Show all mixes");ye(Y,{get content(){return e(W)},children:(T,ee)=>{we(T,{text:"Your favorites",click:()=>{setTimeout(i,100)},get checked(){return e(C)},set checked(K){z(C,K)},$$legacy:!0})},$$slots:{default:!0}}),E(a,o)},J=a=>{ce(a,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:ml-0",children:(o,S)=>{fe(o,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(p,Y)=>{he();var W=Ie("Login or register to add your own!");E(p,W)},$$slots:{default:!0}})},$$slots:{default:!0}})};X(G,a=>{d().props.auth.user?a(oe):a(J,!1)})}h(M),h(j);var Q=$(j,2);{var le=a=>{var o=tt();be(o,5,()=>r().data,S=>S.id,(S,p)=>{const Y=te(()=>route("mixes.show",e(p).id));ce(S,{get href(){return e(Y)},children:(W,T)=>{je(W,{get mix(){return e(p)}})},$$slots:{default:!0}})}),h(o),Re(o,S=>{var p;return(p=Be)==null?void 0:p(S)}),E(a,o)},re=a=>{var o=at();E(a,o)};X(Q,a=>{r().data.length>0?a(le):a(re,!1)})}var g=$(Q,2);Xe(g,{get data(){return r()},updatedPageNumber:x}),h(H),ie(a=>ae(L,a),[()=>{var a,o;return(o=(a=c().data)==null?void 0:a.find(S=>S.id==I))==null?void 0:o.name}],te),E(_,H)},$$slots:{default:!0}}),pe(),l()}export{bt as default};
