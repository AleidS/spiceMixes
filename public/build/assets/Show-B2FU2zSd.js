import{b as Re,z as w,A as E,h as We,t as u,f as b,e as l,n as P,a as v,d as r,q as c,r as n,l as _,B as de,j as He,w as k,v as ve,k as me,c as Je,s as Ke,D as Ne,$ as Qe,o as Ve,Y as Xe,x as S,E as ce,F as Ze}from"./app-C65WBsbj.js";import{I as T,h as $e}from"./Icon-ZvOmcxT0.js";import{a as M}from"./attributes-WU9B-dwB.js";import{s as ea}from"./class-BFmfagUk.js";import{A as aa,L as X}from"./AuthenticatedLayout-CSV8QDcN.js";import ta from"./CalculatorWrapper-CHx8GlPf.js";import{B as A}from"./Button-D9ZBlD1d.js";import{S as ra}from"./Switch-C8bUuC12.js";import ia from"./FavoriteStar-DZX1o4Ct.js";import sa from"./ShareMix-zTdXLR75.js";import{o as ue,c as oa,t as la,u as na,m as da,h as va,d as ma,s as ca,I as fe}from"./Ingredient-D03bLrek.js";import"./index-client-DCyS4rD-.js";import"./style-C7d2rRmU.js";import"./snippet-DZUY_0G1.js";import"./link-CLk8eumP.js";import"./ApplicationLogo-CpFkjYXM.js";import"./index-D0m2_MT7.js";import"./slot-BlT5pMHJ.js";import"./Calculator-BtjOGeWZ.js";import"./Keypad-CVu8Z6ug.js";import"./Draggable-ClyTXtHL.js";import"./this-2SBk2swU.js";import"./input-RnG2NNpY.js";import"./Input-CHKpVFDF.js";var ua=(O,a)=>{w(a,!1)},fa=u("<!> Back to Mixes",1),xa=u("<!> Edit",1),_a=u("<!> Duplicate & edit",1),ga=u('<img src="/storage/pexels-martabranco-1340116.jpg" alt="4 spoons with spices" class="max-h-full min-h-full min-w-full max-w-full overflow-hidden rounded-md object-cover object-center"> <a target="_blank" class="z-2 absolute bottom-[0px] left-[0px] rounded-tr-md p-1 text-base font-light backdrop-blur-sm backdrop-brightness-50 hover:scale-105 hover:brightness-110">Fallback<!></a>',1),ha=u('<a target="_blank" class="z-2 absolute bottom-[0px] left-[0px] rounded-tr-md p-1 text-base font-light backdrop-blur-sm backdrop-brightness-50 hover:scale-105 hover:brightness-110">src <!></a>'),ba=u('<img class="max-h-full min-h-full min-w-full max-w-full overflow-hidden rounded-md object-cover object-center"> <!>',1),pa=(O,a)=>{O.stopPropagation(),w(a,!0)},wa=u('<div class="mb-1 mt-2"><strong>Optional:</strong></div> <!>',1),ya=u('<div class="flex items-center gap-2"><!> <!> <!></div> <div class="-mb-2 mt-2 text-sm font-light"><strong>Total</strong> (excl. weight measures) â‰ˆ <span class="font-medium"> </span></div> <!>',1),ka=u('<div class="box"><h4>Description</h4> <p><!></p></div>'),ja=u('<p><strong>Source(s):</strong> <a class="underline"> </a></p>'),Pa=u("<strong>Source:</strong> ",1),Sa=u(`<strong>Accepted!</strong> Thank you for contributing to tastier cooking for
                        all:) You should be able to find a public mix with this name now.`,1),Ta=u("<br> <strong>Reason given:</strong> ",1),Da=u("<strong>Denied.</strong> Sorry! Maybe next time:) <!>",1),Ia=u("<strong>Under review!</strong> Please be patient:)",1),za=u('<div class="px-4"><p><strong class="mb-2">Share status: <br></strong> Thank you for submitting your mix for sharing on the homepage! The status is: <br> <!></p></div>'),Aa=u('<div class="page flex cursor-auto flex-col gap-6" role="button" tabindex="0"><div class="flex w-full items-center justify-between"><!> <!></div> <div><h1 class="flex items-center gap-2 font-primary text-3xl font-medium"> <!></h1> <!></div> <div class="flex flex-wrap justify-stretch gap-6 md:justify-between"><div class=" sm: relative h-[250px] w-full overflow-hidden rounded-md border border-uiGray-400 object-cover sm:max-w-[300px] md:max-w-[300px]"><!></div> <div class="box flex flex-1 flex-col justify-between gap-y-4"><div class="flex w-full items-start justify-between"><div class="w-full"><div class="flex w-full flex-1 items-start justify-between py-4"><div class="flex items-center justify-start"><h4>Ingredients:</h4> &nbsp; <div class="mb-1 inline text-center font-light text-uiDark-100"> </div></div> <button class="rounded-lg border border-primary-400 p-1 text-white"><!></button></div> <ul class="leading-0 relative ml-0 w-fit list-none"><!> <!></ul></div></div> <!></div></div> <!> <div class="px-4"><p><strong>Cuisine:</strong> </p> <!></div> <!></div> <!>',1);function rt(O,a){Re(a,!0);const[xe,_e]=Ke(),Z=()=>He(Ne,"$page",xe);ue(a.mix,a.measures),oa(a.mix,a.measures);let $=E(void 0);la.subscribe(y=>{w($,y,!0)});let L=E(void 0);na.subscribe(y=>{w(L,y,!0)});let D=E(1);da.subscribe(y=>{w(D,y,!0)});let I=E(!1),G=E(!1);function ge(){w(G,!0)}We(y=>{k(()=>Qe.title=a.mix.data.name)}),aa(O,{children:(y,Ba)=>{var ee=Aa(),B=b(ee);B.__keyup=[ua,I],B.__click=function(...e){var t;(t=w(I,!1))==null||t.apply(this,e)};var U=l(B),ae=l(U);A(ae,{class:" !bg-secondary-600 !text-uiGray-50 hover:bg-secondary-400 ",children:(e,t)=>{X(e,{href:route("home"),class:"flex items-center gap-1 ",children:(i,s)=>{var o=fa(),f=b(o);T(f,{icon:"mdi:arrow-left-circle",class:"mb-[2px] size-4"}),P(),v(i,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var he=r(ae,2);{var be=e=>{const t=ve(()=>route("mixes.edit",a.mix.data.id));X(e,{get href(){return _(t)},children:(i,s)=>{A(i,{primary:!0,children:(o,f)=>{var m=xa(),x=b(m);T(x,{icon:"mdi:pencil",class:""}),P(),v(o,m)},$$slots:{default:!0}})},$$slots:{default:!0}})},pe=(e,t)=>{{var i=s=>{const o=ve(()=>route("mixes.duplicate",a.mix.data.id));X(s,{get href(){return _(o)},children:(f,m)=>{A(f,{primary:!0,children:(x,p)=>{var h=_a(),g=b(h);T(g,{icon:"mdi:pencil",class:""}),P(),v(x,h)},$$slots:{default:!0}})},$$slots:{default:!0}})};c(e,s=>{Z().props.auth.user&&s(i)},t)}};c(he,e=>{a.mix.data.editable?e(be):e(pe,!1)})}n(U);var F=r(U,2),Y=l(F),te=l(Y),we=r(te);ia(we,{get mix(){return a.mix.data},class:"inline"}),n(Y);var ye=r(Y,2);{var ke=e=>{sa(e,{get mix(){return a.mix}})};c(ye,e=>{a.mix.data.editable&&e(ke)})}n(F);var q=r(F,2),R=l(q),je=l(R);{var Pe=e=>{var t=ga(),i=r(b(t),2);M(i,"href","https://www.pexels.com/photo/four-assorted-spices-on-wooden-spoons-1340116/");var s=r(l(i));T(s,{icon:"mdi:link-variant",class:"inline"}),n(i),v(e,t)},Se=(e,t)=>{{var i=s=>{var o=ba(),f=b(o),m=r(f,2);{var x=p=>{var h=ha(),g=r(l(h));T(g,{icon:"mdi:link-variant",class:"inline"}),n(h),k(()=>M(h,"href",`${a.mix.data.img_source}`)),v(p,h)};c(m,p=>{a.mix.data.img_source!=""&&a.mix.data.img_source!=null&&p(x)})}k(()=>{M(f,"src",a.mix.data.avatar),M(f,"alt",a.mix.data.name)}),Ve("error",f,ge),Xe(f),v(s,o)};c(e,s=>{a.mix.data.avatar&&!_(G)&&s(i)},t)}};c(je,e=>{!a.mix.data.avatar||_(G)?e(Pe):e(Se,!1)})}n(R);var re=r(R,2),W=l(re),ie=l(W),H=l(ie),J=l(H),se=r(l(J),2),Te=l(se,!0);n(se),n(J);var K=r(J,2);K.__click=[pa,I];var De=l(K);T(De,{icon:"mdi:calculator",class:"text-2xl"}),n(K),n(H);var oe=r(H,2),le=l(oe);de(le,17,()=>a.mix.data.ingredients.filter(e=>!e.optional),ce,(e,t)=>{fe(e,{get ingredient(){return _(t)},get mix(){return a.mix},get measures(){return a.measures}})});var Ie=r(le,2);{var ze=e=>{var t=wa(),i=r(b(t),2);de(i,17,()=>a.mix.data.ingredients.filter(s=>s.optional),ce,(s,o)=>{fe(s,{get ingredient(){return _(o)},get mix(){return a.mix},get measures(){return a.measures}})}),v(e,t)};c(Ie,e=>{a.mix.data.ingredients.filter(t=>t.optional).length>0&&e(ze)})}n(oe),n(ie),n(W);var Ae=r(W,2);{var Be=e=>{var t=ya(),i=b(t),s=l(i);A(s,{class:"!rounded-full !bg-primary-600 !px-2 !py-1 !text-white",onclick:d=>{d.stopPropagation(),va(a.mix,a.measures)},children:(d,j)=>{P();var z=me("half");v(d,z)},$$slots:{default:!0}});var o=r(s,2);A(o,{class:"!rounded-full !bg-primary-600 !px-1 !py-1 !text-white",onclick:d=>{d.stopPropagation(),ma(a.mix,a.measures)},children:(d,j)=>{P();var z=me("double");v(d,z)},$$slots:{default:!0}});var f=r(o,2);{var m=d=>{A(d,{class:"!rounded-full !bg-primary-600 !p-1 !text-white",onclick:j=>{j.stopPropagation(),ue(a.mix,a.measures)},children:(j,z)=>{T(j,{icon:"mdi:arrow-u-left-top"})},$$slots:{default:!0}})};c(f,d=>{_(D)!=1&&d(m)})}n(i);var x=r(i,2),p=r(l(x),2),h=l(p,!0);n(p),n(x);var g=r(x,2);ra(g,{switchClass:"!scale-75",textClass:"font-light text-sm",text:"Use original units",click:()=>{setTimeout(ca(),100)},get checked(){return _(L)},set checked(d){w(L,d,!0)}}),k(()=>S(h,_($))),v(e,t)};c(Ae,e=>{a.mix.data.ingredients.length>0&&e(Be)})}n(re),n(q);var ne=r(q,2);{var Ce=e=>{var t=ka(),i=r(l(t),2),s=l(i);$e(s,()=>{var o;return(o=a.mix.data)==null?void 0:o.description}),n(i),n(t),v(e,t)};c(ne,e=>{var t;(t=a.mix.data)!=null&&t.description&&e(Ce)})}var N=r(ne,2),Q=l(N),Ee=r(l(Q));n(Q);var Me=r(Q,2);{var Oe=e=>{var t=ja(),i=r(l(t),2),s=l(i,!0);n(i),n(t),k(()=>{var o;M(i,"href",a.mix.data.source_url),S(s,((o=a.mix.data)==null?void 0:o.source_name)??"link")}),v(e,t)},Fe=(e,t)=>{{var i=s=>{var o=Pa(),f=r(b(o),1,!0);k(()=>{var m;return S(f,(m=a.mix.data)==null?void 0:m.source_name)}),v(s,o)};c(e,s=>{var o;(o=a.mix.data)!=null&&o.source_name&&s(i)},t)}};c(Me,e=>{var t;(t=a.mix.data)!=null&&t.source_url?e(Oe):e(Fe,!1)})}n(N);var Le=r(N,2);{var Ge=e=>{var t=za(),i=l(t),s=r(l(i),4);{var o=m=>{var x=Sa();P(),v(m,x)},f=(m,x)=>{{var p=g=>{var d=Da(),j=r(b(d),2);{var z=V=>{var C=Ta(),qe=r(b(C),3);k(()=>S(qe,` ${a.mix.data.share_decline_reason??""}`)),v(V,C)};c(j,V=>{var C;(C=a.mix.data)!=null&&C.share_decline_reason&&V(z)})}v(g,d)},h=g=>{var d=Ia();P(),v(g,d)};c(m,g=>{var d;((d=a.mix.data)==null?void 0:d.share_accepted)==!1?g(p):g(h,!1)},x)}};c(s,m=>{var x;((x=a.mix.data)==null?void 0:x.share_accepted)==!0?m(o):m(f,!1)})}n(i),n(t),v(e,t)};c(Le,e=>{var t;Z().props.auth.user&&((t=a.mix.data)==null?void 0:t.share_mix)==!0&&e(Ge)})}n(B);var Ue=r(B,2);{var Ye=e=>{ta(e,{$$events:{close:()=>w(I,!1)}})};c(Ue,e=>{_(I)&&e(Ye)})}k(()=>{ea(F,1,`flex w-full justify-between ${_(I)?"pointer-events-none":"pointer-events-auto"}`),S(te,`${a.mix.data.name??""} `),S(Te,_(D)==1?"":_(D)<1?`/ ${1/_(D)}`:`* ${_(D)}`),S(Ee,` ${a.mix.data.cuisine.name??""}`)}),v(y,ee)},$$slots:{default:!0}}),Je(),_e()}Ze(["keyup","click"]);export{rt as default};
