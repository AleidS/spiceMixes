import{b as le,p as d,i as oe,t as h,e as s,d as o,r as a,B as ne,w as O,a as v,c as ue,E as we,x as S,q as k,l as r,o as be,P as ye,f as ee,C as U,h as $e,j as Pe,z as V,n as se,k as ke,s as Se,D as ze,W as Ne,$ as De,m as re}from"./app-Dg5wP5N3.js";import{a as Ie}from"./link-B9fOevQ8.js";import{s as de}from"./class-a_qsfEQH.js";import{A as je,L as X,a as Ae}from"./AuthenticatedLayout-BdeKlfe8.js";import{B as Z}from"./Button-B_5t9FTP.js";import Ce from"./MixCard-B8_dbHVQ.js";import{I as H,h as Me}from"./Icon-DSXTaA1C.js";import{a as Te}from"./attributes-xh_VzhBG.js";import{T as qe}from"./TextInput-jXAymsKs.js";import{S as ie}from"./Switch-mNO89fhT.js";import"./style-BQvYv_q0.js";import"./snippet-CjitdvEZ.js";import"./ApplicationLogo-CztGLOld.js";import"./index-BG6dc9q9.js";import"./slot-YhGMTF4E.js";import"./index-client-DOOrt7-t.js";import"./FavoriteStar-mqSikYW-.js";import"./this-MxLBk0Ud.js";import"./input-DoWk1SJo.js";function Le(_){return function(...i){var m=i[0];return m.preventDefault(),_==null?void 0:_.apply(this,i)}}var Be=h("<button><a><!></a></button>"),Fe=h('<div class="bottom-0 m-auto w-full"><div class="m-auto flex w-fit max-w-[70vw] items-center justify-between gap-x-2 rounded-md bg-uiDark-600 px-4 py-3 sm:px-6"><div class=" flex flex-1 flex-wrap items-center justify-center gap-x-3 gap-y-2"><div><p class="text-sm text-uiGray-100">showing mix <span class="font-medium"> </span> to <span class="font-medium"> </span> from <span class="font-medium"> </span></p></div> <nav class="relative z-0 inline-flex gap-x-2 rounded-md bg-uiDark-400 p-2" aria-label="Pagination"></nav></div></div></div>');function Ye(_,i){le(i,!1);let m=d(i,"data",8),J=d(i,"updatedPageNumber",8,()=>{});console.log(m().meta),oe();var w=Fe(),b=s(w),z=s(b),y=s(z),B=s(y),N=o(s(B)),F=s(N,!0);a(N);var $=o(N,2),K=s($,!0);a($);var D=o($,2),P=s(D,!0);a(D),a(B),a(y);var p=o(y,2);ne(p,5,()=>m().meta.links,we,(I,n)=>{var c=Be(),j=s(c),A=s(j);{var C=x=>{H(x,{icon:"mdi:chevron-left",class:"mb-1 size-4"})},M=(x,Y)=>{{var Q=f=>{var G=ye(),T=ee(G);Me(T,()=>r(n).label),v(f,G)},E=f=>{H(f,{icon:"mdi:chevron-right",class:"mb-1 size-4"})};k(x,f=>{r(n).label!="Next &raquo;"?f(Q):f(E,!1)},Y)}};k(A,x=>{r(n).label=="&laquo; Previous"?x(C):x(M,!1)})}a(j),a(c),O(()=>{Te(j,"href",r(n).url),de(j,1,`flex w-5 items-center justify-center rounded-sm pt-1 text-sm text-uiGray-100 ${r(n).active?"bg-uiDark-300 font-bold":""}`)}),be("click",c,Le(()=>J()(r(n).url.split("=")[1]))),v(I,c)}),a(p),a(z),a(b),a(w),O(()=>{S(F,m().meta.from),S(K,m().meta.to),S(P,m().meta.total)}),v(_,w),ue()}var Ee=h('<div class="mb-4">You are logged in as Admin. Mixes with green icons are public.</div>'),Ge=h("<!> Add New Mix",1),We=h('<div class="group relative w-fit"><div class="popup smallPopup"> </div> <!></div> <div class="group relative w-fit"><div> </div> <!></div>',1),Oe=h('<div class="z-1 grid w-full grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3"></div>'),He=h('<span class="w-full text-center">Sorry! No mixes found.</span>'),Je=h('<div class="z-1 relative m-auto mt-10 flex h-fit max-w-[950px] flex-1 flex-wrap items-start justify-start gap-2 gap-y-10 pb-16"><div class="w-full"><div class="min-h-6 w-full text-uiDark-100"> </div> <!> <div class="flex h-fit w-full flex-1 flex-wrap items-center justify-between gap-2 gap-y-6 px-2"><h1 class="w-fit text-left">Mixes</h1> <!> <div class="-gap-2 order-1 flex w-full translate-x-2 items-stretch sm:order-none sm:w-fit"><!> <!></div> <!></div></div> <!> <!></div>');function mt(_,i){le(i,!1);const[m,J]=Se(),w=()=>Pe(ze,"$page",m);let b=d(i,"mixes",8);d(i,"measures",8);let z=d(i,"cuisines",8),y=d(i,"selectedCuisineId",8),B=d(i,"is_own",8),N=d(i,"show_favorites",8),F=d(i,"search",8),$=d(i,"pageNumber",12);console.log(b());const K=c=>{$(c),n()};let D=y(),P=U(B()==="true"),p=U(N()==="true"),I=U(F()!=!1?F():"");function n(){Ne.get("/",{page:$(),cuisine_id:D,is_own:r(P),show_favorites:r(p),filter:{name:r(I)}},{preserveState:!0,preserveScroll:!0})}oe(),$e(c=>{De.title="Mixes"}),je(_,{get cuisines(){return z()},get selectedCuisineId(){return y()},showFilter:!0,class:"z-0",children:(c,j)=>{var A=Je(),C=s(A),M=s(C),x=s(M,!0);a(M);var Y=o(M,2);{var Q=e=>{var t=Ee();v(e,t)};k(Y,e=>{var t,l;(l=(t=w().props.auth)==null?void 0:t.user)!=null&&l.is_admin&&e(Q)})}var E=o(Y,2),f=o(s(E),2);{var G=e=>{X(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:order-1 sm:ml-0",children:(t,l)=>{Z(t,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,q)=>{var g=Ge(),L=ee(g);H(L,{icon:"mdi:plus-circle",class:"mb-[3px] inline size-5"}),se(),v(u,g)},$$slots:{default:!0}})},$$slots:{default:!0}})};k(f,e=>{w().props.auth.user&&e(G)})}var T=o(f,2),te=s(T);qe(te,{onkeydown:e=>{e.key==="Enter"&&n()},type:"text",placeholder:"Search by name",class:"input !flex-1 rounded-l-full",get value(){return r(I)},set value(e){V(I,e)},$$events:{clear:n},$$legacy:!0});var ve=o(te,2);Z(ve,{onclick:n,class:"z-10 my-[1px] -ml-2 -translate-x-4 scale-105 !rounded-full !bg-primary-600",children:(e,t)=>{H(e,{icon:"mdi:magnify",class:"text-xl text-white"})},$$slots:{default:!0}}),a(T);var me=o(T,2);{var ce=e=>{var t=We(),l=ee(t),u=s(l),q=s(u,!0);a(u);var g=o(u,2);ie(g,{text:"Your mixes",click:()=>{setTimeout(n,100)},get checked(){return r(P)},set checked(R){V(P,R)},$$legacy:!0}),a(l);var L=o(l,2),W=s(L),he=s(W,!0);a(W);var _e=o(W,2);ie(_e,{text:"Your favorites",click:()=>{setTimeout(n,100)},get checked(){return r(p)},set checked(R){V(p,R)},$$legacy:!0}),a(L),O(()=>{S(q,r(P)===!1?"Show your mixes only":"Show all mixes"),de(W,1,`popup smallPopup !-top-4 !-translate-y-8 ${r(p)===!0?"!top-0":""}`),S(he,r(p)===!1?"Show your favorite mixes only":"Show all mixes")}),v(e,t)},fe=e=>{X(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:ml-0",children:(t,l)=>{Z(t,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,q)=>{se();var g=ke("Login or register to add your own!");v(u,g)},$$slots:{default:!0}})},$$slots:{default:!0}})};k(me,e=>{w().props.auth.user?e(ce):e(fe,!1)})}a(E),a(C);var ae=o(C,2);{var pe=e=>{var t=Oe();ne(t,5,()=>b().data,l=>l.id,(l,u)=>{const q=re(()=>route("mixes.show",r(u).id));X(l,{get href(){return r(q)},children:(g,L)=>{Ce(g,{get mix(){return r(u)}})},$$slots:{default:!0}})}),a(t),Ie(t,l=>{var u;return(u=Ae)==null?void 0:u(l)}),v(e,t)},xe=e=>{var t=He();v(e,t)};k(ae,e=>{b().data.length>0?e(pe):e(xe,!1)})}var ge=o(ae,2);Ye(ge,{get data(){return b()},updatedPageNumber:K}),a(A),O(e=>S(x,e),[()=>{var e,t;return(t=(e=z().data)==null?void 0:e.find(l=>l.id==D))==null?void 0:t.name}],re),v(c,A)},$$slots:{default:!0}}),ue(),J()}export{mt as default};
