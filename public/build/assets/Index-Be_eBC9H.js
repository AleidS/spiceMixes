import{b as ie,p as v,i as le,t as w,e as a,d as l,r as t,B as oe,w as Y,a as f,c as ne,E as ge,x as k,q as M,l as s,o as _e,P as we,f as ee,C as U,h as ye,j as be,z as V,n as ae,k as $e,s as Pe,D as ke,W as Se,$ as ze,m as se}from"./app-D6DGB2TE.js";import{a as Ne}from"./link-JtF4iLD6.js";import{s as ue}from"./class-HXxvyyYd.js";import{A as De,L as X,a as Ie}from"./AuthenticatedLayout-B5i_oS6m.js";import{B as Z}from"./Button-DwtBySkT.js";import je from"./MixCard-DbQ9mn1B.js";import{I as O,h as Ce}from"./Icon-CvsQ4OeG.js";import{a as Te}from"./attributes-C_luwKBq.js";import{T as qe}from"./TextInput-GG49xenW.js";import{S as re}from"./Switch-CFrqgLWL.js";import"./style-Clde2EGf.js";import"./snippet-DuWJIlP1.js";import"./ApplicationLogo-Ci-Q2pUW.js";import"./index-CW8go6Q0.js";import"./slot-BSClHNB2.js";import"./index-client-CW11BzbF.js";import"./FavoriteStar-BNFhfA5s.js";import"./this-POYFIn7J.js";import"./input-ZsfIajx7.js";function Ae(g){return function(...i){var m=i[0];return m.preventDefault(),g==null?void 0:g.apply(this,i)}}var Le=w("<button><a><!></a></button>"),Me=w('<div class="bottom-0 m-auto w-full"><div class="m-auto flex w-fit max-w-[70vw] items-center justify-between gap-x-2 rounded-md bg-uiDark-600 px-4 py-3 sm:px-6"><div class=" flex flex-1 flex-wrap items-center justify-center gap-x-3 gap-y-2"><div><p class="text-sm text-uiGray-100">showing mix <span class="font-medium"> </span> to <span class="font-medium"> </span> from <span class="font-medium"> </span></p></div> <nav class="relative z-0 inline-flex gap-x-2 rounded-md bg-uiDark-400 p-2" aria-label="Pagination"></nav></div></div></div>');function Be(g,i){ie(i,!1);let m=v(i,"data",8),H=v(i,"updatedPageNumber",8,()=>{});console.log(m().meta),le();var y=Me(),_=a(y),S=a(_),b=a(S),B=a(b),z=l(a(B)),F=a(z,!0);t(z);var $=l(z,2),J=a($,!0);t($);var N=l($,2),P=a(N,!0);t(N),t(B),t(b);var p=l(b,2);oe(p,5,()=>m().meta.links,ge,(D,o)=>{var c=Le(),I=a(c),j=a(I);{var C=x=>{O(x,{icon:"mdi:chevron-left",class:"mb-1 size-4"})},T=(x,E)=>{{var G=d=>{var q=we(),Q=ee(q);Ce(Q,()=>s(o).label),f(d,q)},K=d=>{O(d,{icon:"mdi:chevron-right",class:"mb-1 size-4"})};M(x,d=>{s(o).label!="Next &raquo;"?d(G):d(K,!1)},E)}};M(j,x=>{s(o).label=="&laquo; Previous"?x(C):x(T,!1)})}t(I),t(c),Y(()=>{Te(I,"href",s(o).url),ue(I,1,`flex w-5 items-center justify-center rounded-sm pt-1 text-sm text-uiGray-100 ${s(o).active?"bg-uiDark-300 font-bold":""}`)}),_e("click",c,Ae(()=>H()(s(o).url.split("=")[1]))),f(D,c)}),t(p),t(S),t(_),t(y),Y(()=>{k(F,m().meta.from),k(J,m().meta.to),k(P,m().meta.total)}),f(g,y),ne()}var Fe=w("<!> Add New Mix",1),Ee=w('<div class="group relative w-fit"><div class="popup smallPopup"> </div> <!></div> <div class="group relative w-fit"><div> </div> <!></div>',1),Ge=w('<div class="z-1 grid w-full grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3"></div>'),We=w('<span class="w-full text-center">Sorry! No mixes found.</span>'),Ye=w('<div class="z-1 relative m-auto mt-10 flex h-fit max-w-[950px] flex-1 flex-wrap items-start justify-start gap-2 gap-y-10 pb-16"><div class="w-full"><div class="min-h-6 w-full text-uiDark-100"> </div> <div class="flex h-fit w-full flex-1 flex-wrap items-center justify-between gap-2 gap-y-6 px-2"><h1 class="w-fit text-left">Mixes</h1> <!> <div class="-gap-2 order-1 flex w-full translate-x-2 items-stretch sm:order-none sm:w-fit"><!> <!></div> <!></div></div> <!> <!></div>');function ut(g,i){ie(i,!1);const[m,H]=Pe(),y=()=>be(ke,"$page",m);let _=v(i,"mixes",8);v(i,"measures",8);let S=v(i,"cuisines",8),b=v(i,"selectedCuisineId",8),B=v(i,"is_own",8),z=v(i,"show_favorites",8),F=v(i,"search",8),$=v(i,"pageNumber",12);console.log(_());const J=c=>{$(c),o()};let N=b(),P=U(B()==="true"),p=U(z()==="true"),D=U(F()!=!1?F():"");function o(){Se.get("/",{page:$(),cuisine_id:N,is_own:s(P),show_favorites:s(p),filter:{name:s(D)}},{preserveState:!0,preserveScroll:!0})}le(),ye(c=>{ze.title="Mixes"}),De(g,{get cuisines(){return S()},get selectedCuisineId(){return b()},showFilter:!0,class:"z-0",children:(c,I)=>{var j=Ye(),C=a(j),T=a(C),x=a(T,!0);t(T);var E=l(T,2),G=l(a(E),2);{var K=e=>{X(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:order-1 sm:ml-0",children:(r,n)=>{Z(r,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,A)=>{var h=Fe(),L=ee(h);O(L,{icon:"mdi:plus-circle",class:"mb-[3px] inline size-5"}),ae(),f(u,h)},$$slots:{default:!0}})},$$slots:{default:!0}})};M(G,e=>{y().props.auth.user&&e(K)})}var d=l(G,2),q=a(d);qe(q,{onkeydown:e=>{e.key==="Enter"&&o()},type:"text",placeholder:"Search by name",class:"input !flex-1 rounded-l-full",get value(){return s(D)},set value(e){V(D,e)},$$events:{clear:o},$$legacy:!0});var Q=l(q,2);Z(Q,{onclick:o,class:"z-10 my-[1px] -ml-2 -translate-x-4 scale-105 !rounded-full !bg-primary-600",children:(e,r)=>{O(e,{icon:"mdi:magnify",class:"text-xl text-white"})},$$slots:{default:!0}}),t(d);var de=l(d,2);{var ve=e=>{var r=Ee(),n=ee(r),u=a(n),A=a(u,!0);t(u);var h=l(u,2);re(h,{text:"Your mixes",click:()=>{setTimeout(o,100)},get checked(){return s(P)},set checked(R){V(P,R)},$$legacy:!0}),t(n);var L=l(n,2),W=a(L),xe=a(W,!0);t(W);var he=l(W,2);re(he,{text:"Your favorites",click:()=>{setTimeout(o,100)},get checked(){return s(p)},set checked(R){V(p,R)},$$legacy:!0}),t(L),Y(()=>{k(A,s(P)===!1?"Show your mixes only":"Show all mixes"),ue(W,1,`popup smallPopup !-top-4 !-translate-y-8 ${s(p)===!0?"!top-0":""}`),k(xe,s(p)===!1?"Show your favorite mixes only":"Show all mixes")}),f(e,r)},me=e=>{X(e,{href:route("mixes.create"),class:"ml-auto w-fit text-white sm:ml-0",children:(r,n)=>{Z(r,{class:"w-fit text-nowrap !bg-primary-600 !text-white",children:(u,A)=>{ae();var h=$e("Login or register to add your own!");f(u,h)},$$slots:{default:!0}})},$$slots:{default:!0}})};M(de,e=>{y().props.auth.user?e(ve):e(me,!1)})}t(E),t(C);var te=l(C,2);{var ce=e=>{var r=Ge();oe(r,5,()=>_().data,n=>n.id,(n,u)=>{const A=se(()=>route("mixes.show",s(u).id));X(n,{get href(){return s(A)},children:(h,L)=>{je(h,{get mix(){return s(u)}})},$$slots:{default:!0}})}),t(r),Ne(r,n=>{var u;return(u=Ie)==null?void 0:u(n)}),f(e,r)},fe=e=>{var r=We();f(e,r)};M(te,e=>{_().data.length>0?e(ce):e(fe,!1)})}var pe=l(te,2);Be(pe,{get data(){return _()},updatedPageNumber:J}),t(j),Y(e=>k(x,e),[()=>{var e,r;return(r=(e=S().data)==null?void 0:e.find(n=>n.id==N))==null?void 0:r.name}],se),f(c,j)},$$slots:{default:!0}}),ne(),H()}export{ut as default};
