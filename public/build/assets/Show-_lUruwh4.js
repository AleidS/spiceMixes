import{b as Ye,z as p,P as L,A as E,h as He,t as _,f as x,e as o,n as j,a as d,d as r,q as f,r as n,l as g,B as me,j as Je,w as P,v as ce,N as G,k as ue,c as Ke,s as Qe,D as Xe,$ as Ze,o as $e,V as ea,x as S,E as fe,F as aa}from"./app-DU2Tsdzb.js";import{I as T,h as ta}from"./Icon-t5DdAySO.js";import{a as M}from"./attributes-FMgv7XY-.js";import{s as ra}from"./class-C6e2rp3v.js";import{A as ia,L as $}from"./AuthenticatedLayout-Bn-ayv8g.js";import sa from"./CalculatorWrapper--oOM5FZT.js";import{B as A}from"./Button-PKnroGvv.js";import{S as oa}from"./Switch-Der-IlOm.js";import na from"./FavoriteStar-OHk8ArPc.js";import la from"./ShareMix-Cf4KGr7s.js";import{o as _e,c as da,t as va,u as ma,m as ca,h as ua,d as fa,s as _a,I as xe}from"./Ingredient-Bpb0yJ4z.js";import"./index-client-Zyxaco3m.js";import"./snippet-DyqTDoR7.js";import"./link-1H3S82dx.js";import"./ApplicationLogo-EfAlQTjr.js";import"./index-gOtqFug7.js";import"./slot-D1J4N00U.js";import"./this-hSzMQXyE.js";import"./Calculator-CwiGGpy1.js";import"./Keypad-D1ODnhDe.js";import"./Draggable-RjQ7RDf_.js";import"./input-VCuu0KOk.js";import"./Input-C1IfjmTl.js";var xa=(O,a)=>{p(a,!1)},ga=_("<!> Back to Mixes",1),ha=_("<!> Edit",1),ba=_("<!> Duplicate & edit",1),pa=_('<img src="/storage/pexels-martabranco-1340116.jpg" alt="4 spoons with spices" class="max-h-full min-h-full min-w-full max-w-full overflow-hidden rounded-md object-cover object-center"> <a target="_blank" class="z-2 absolute bottom-[0px] left-[0px] rounded-tr-md p-1 text-base font-light backdrop-blur-sm backdrop-brightness-50 hover:scale-105 hover:brightness-110">Fallback<!></a>',1),wa=_('<a target="_blank" class="z-2 absolute bottom-[0px] left-[0px] rounded-tr-md p-1 text-base font-light backdrop-blur-sm backdrop-brightness-50 hover:scale-105 hover:brightness-110">src <!></a>'),ya=_('<img class="max-h-full min-h-full min-w-full max-w-full overflow-hidden rounded-md object-cover object-center"> <!>',1),ka=(O,a)=>{O.stopPropagation(),p(a,!0)},Pa=_('<div class="mb-1 mt-2"><strong>Optional:</strong></div> <!>',1),ja=_('<div class="flex items-center gap-2"><!> <!> <!></div> <div class="-mb-2 mt-2 text-sm font-light"><strong>Total</strong> (excl. weight measures) â‰ˆ <span class="font-medium"> </span></div> <!>',1),Sa=_('<div class="box"><h4>Description</h4> <p><!></p></div>'),Ta=_('<p><strong>Source(s):</strong> <a class="underline"> </a></p>'),Da=_("<strong>Source:</strong> ",1),Ia=_(`<strong>Accepted!</strong> Thank you for contributing to tastier cooking for
                        all:) You should be able to find a public mix with this name now.`,1),za=_("<br> <strong>Reason given:</strong> ",1),Aa=_("<strong>Denied.</strong> Sorry! Maybe next time:) <!>",1),Ba=_("<strong>Under review!</strong> Please be patient:)",1),Ca=_('<div class="px-4"><p><strong class="mb-2">Share status: <br></strong> Thank you for submitting your mix for sharing on the homepage! The status is: <br> <!></p></div>'),Ea=_('<div class="page flex cursor-auto flex-col gap-6" role="button" tabindex="0"><div class="flex w-full items-center justify-between"><!> <!></div> <div><h1 class="flex items-center gap-2 font-primary text-3xl font-medium"> <!></h1> <!></div> <div class="flex flex-wrap justify-stretch gap-6 md:justify-between"><div class=" sm: relative h-[250px] w-full overflow-hidden rounded-md border border-uiGray-400 object-cover sm:max-w-[300px] md:max-w-[300px]"><!></div> <div class="box flex flex-1 flex-col justify-between gap-y-4"><div class="flex w-full items-start justify-between"><div class="w-full"><div class="flex w-full flex-1 items-start justify-between py-4"><div class="flex items-center justify-start"><h4>Ingredients:</h4> &nbsp; <div class="mb-1 inline text-center font-light text-uiDark-100"> </div></div> <button class="rounded-lg border border-primary-400 p-1 text-white"><!></button></div> <ul class="leading-0 relative ml-0 w-fit list-none"><!> <!></ul></div></div> <!></div></div> <!> <div class="px-4"><p><strong>Cuisine:</strong> </p> <!></div> <!></div> <!>',1);function st(O,a){Ye(a,!0);const[ge,he]=Qe(),ee=()=>Je(Xe,"$page",ge);_e(a.mix,a.measures),da(a.mix,a.measures);let ae=E(void 0);va.subscribe(w=>{p(ae,L(w))});let U=E(void 0);ma.subscribe(w=>{p(U,L(w))});let D=E(1);ca.subscribe(w=>{p(D,L(w))});let I=E(!1),q=E(!1);function be(){p(q,!0)}He(w=>{P(()=>Ze.title=a.mix.data.name)}),ia(O,{children:(w,Ma)=>{var te=Ea(),B=x(te);B.__keyup=[xa,I],B.__click=function(...e){var t;(t=p(I,!1))==null||t.apply(this,e)};var N=o(B),re=o(N);A(re,{class:" !bg-secondary-600 !text-uiGray-50 hover:bg-secondary-400 ",children:(e,t)=>{$(e,{href:route("home"),class:"flex items-center gap-1 ",children:(i,v)=>{var s=ga(),u=x(s);T(u,{icon:"mdi:arrow-left-circle",class:"mb-[2px] size-4"}),j(),d(i,s)},$$slots:{default:!0}})},$$slots:{default:!0}});var pe=r(re,2);{var we=e=>{const t=ce(()=>route("mixes.edit",a.mix.data.id));$(e,{get href(){return g(t)},children:(i,v)=>{A(i,{primary:!0,children:(s,u)=>{var m=ha(),c=x(m);T(c,{icon:"mdi:pencil",class:""}),j(),d(s,m)},$$slots:{default:!0}})},$$slots:{default:!0}})},ye=e=>{var t=G(),i=x(t);{var v=s=>{const u=ce(()=>route("mixes.duplicate",a.mix.data.id));$(s,{get href(){return g(u)},children:(m,c)=>{A(m,{primary:!0,children:(y,k)=>{var b=ba(),l=x(b);T(l,{icon:"mdi:pencil",class:""}),j(),d(y,b)},$$slots:{default:!0}})},$$slots:{default:!0}})};f(i,s=>{ee().props.auth.user&&s(v)},!0)}d(e,t)};f(pe,e=>{a.mix.data.editable?e(we):e(ye,!1)})}n(N);var F=r(N,2),R=o(F),ie=o(R),ke=r(ie);na(ke,{get mix(){return a.mix.data},class:"inline"}),n(R);var Pe=r(R,2);{var je=e=>{la(e,{get mix(){return a.mix}})};f(Pe,e=>{a.mix.data.editable&&e(je)})}n(F);var V=r(F,2),W=o(V),Se=o(W);{var Te=e=>{var t=pa(),i=r(x(t),2);M(i,"href","https://www.pexels.com/photo/four-assorted-spices-on-wooden-spoons-1340116/");var v=r(o(i));T(v,{icon:"mdi:link-variant",class:"inline"}),n(i),d(e,t)},De=e=>{var t=G(),i=x(t);{var v=s=>{var u=ya(),m=x(u),c=r(m,2);{var y=k=>{var b=wa(),l=r(o(b));T(l,{icon:"mdi:link-variant",class:"inline"}),n(b),P(()=>M(b,"href",`${a.mix.data.img_source}`)),d(k,b)};f(c,k=>{a.mix.data.img_source!=""&&a.mix.data.img_source!=null&&k(y)})}P(()=>{M(m,"src",a.mix.data.avatar),M(m,"alt",a.mix.data.name)}),$e("error",m,be),ea(m),d(s,u)};f(i,s=>{a.mix.data.avatar&&!g(q)&&s(v)},!0)}d(e,t)};f(Se,e=>{!a.mix.data.avatar||g(q)?e(Te):e(De,!1)})}n(W);var se=r(W,2),Y=o(se),oe=o(Y),H=o(oe),J=o(H),ne=r(o(J),2),Ie=o(ne,!0);n(ne),n(J);var K=r(J,2);K.__click=[ka,I];var ze=o(K);T(ze,{icon:"mdi:calculator",class:"text-2xl"}),n(K),n(H);var le=r(H,2),de=o(le);me(de,17,()=>a.mix.data.ingredients.filter(e=>!e.optional),fe,(e,t)=>{xe(e,{get ingredient(){return g(t)},get mix(){return a.mix},get measures(){return a.measures}})});var Ae=r(de,2);{var Be=e=>{var t=Pa(),i=r(x(t),2);me(i,17,()=>a.mix.data.ingredients.filter(v=>v.optional),fe,(v,s)=>{xe(v,{get ingredient(){return g(s)},get mix(){return a.mix},get measures(){return a.measures}})}),d(e,t)};f(Ae,e=>{a.mix.data.ingredients.filter(t=>t.optional).length>0&&e(Be)})}n(le),n(oe),n(Y);var Ce=r(Y,2);{var Ee=e=>{var t=ja(),i=x(t),v=o(i);A(v,{class:"!rounded-full !bg-primary-600 !px-2 !py-1 !text-white",onclick:l=>{l.stopPropagation(),ua(a.mix,a.measures)},children:(l,h)=>{j();var z=ue("half");d(l,z)},$$slots:{default:!0}});var s=r(v,2);A(s,{class:"!rounded-full !bg-primary-600 !px-1 !py-1 !text-white",onclick:l=>{l.stopPropagation(),fa(a.mix,a.measures)},children:(l,h)=>{j();var z=ue("double");d(l,z)},$$slots:{default:!0}});var u=r(s,2);{var m=l=>{A(l,{class:"!rounded-full !bg-primary-600 !p-1 !text-white",onclick:h=>{h.stopPropagation(),_e(a.mix,a.measures)},children:(h,z)=>{T(h,{icon:"mdi:arrow-u-left-top"})},$$slots:{default:!0}})};f(u,l=>{g(D)!=1&&l(m)})}n(i);var c=r(i,2),y=r(o(c),2),k=o(y,!0);n(y),n(c);var b=r(c,2);oa(b,{switchClass:"!scale-75",textClass:"font-light text-sm",text:"Use original units",click:()=>{setTimeout(_a(),100)},get checked(){return g(U)},set checked(l){p(U,L(l))}}),P(()=>S(k,g(ae))),d(e,t)};f(Ce,e=>{a.mix.data.ingredients.length>0&&e(Ee)})}n(se),n(V);var ve=r(V,2);{var Me=e=>{var t=Sa(),i=r(o(t),2),v=o(i);ta(v,()=>{var s;return(s=a.mix.data)==null?void 0:s.description},!1,!1),n(i),n(t),d(e,t)};f(ve,e=>{var t;(t=a.mix.data)!=null&&t.description&&e(Me)})}var Q=r(ve,2),X=o(Q),Oe=r(o(X));n(X);var Fe=r(X,2);{var Le=e=>{var t=Ta(),i=r(o(t),2),v=o(i,!0);n(i),n(t),P(()=>{var s;M(i,"href",a.mix.data.source_url),S(v,((s=a.mix.data)==null?void 0:s.source_name)??"link")}),d(e,t)},Ge=e=>{var t=G(),i=x(t);{var v=s=>{var u=Da(),m=r(x(u),1,!0);P(()=>{var c;return S(m,(c=a.mix.data)==null?void 0:c.source_name)}),d(s,u)};f(i,s=>{var u;(u=a.mix.data)!=null&&u.source_name&&s(v)},!0)}d(e,t)};f(Fe,e=>{var t;(t=a.mix.data)!=null&&t.source_url?e(Le):e(Ge,!1)})}n(Q);var Ue=r(Q,2);{var qe=e=>{var t=Ca(),i=o(t),v=r(o(i),4);{var s=m=>{var c=Ia();j(),d(m,c)},u=m=>{var c=G(),y=x(c);{var k=l=>{var h=Aa(),z=r(x(h),2);{var Ve=Z=>{var C=za(),We=r(x(C),3);P(()=>S(We,` ${a.mix.data.share_decline_reason??""}`)),d(Z,C)};f(z,Z=>{var C;(C=a.mix.data)!=null&&C.share_decline_reason&&Z(Ve)})}d(l,h)},b=l=>{var h=Ba();j(),d(l,h)};f(y,l=>{var h;((h=a.mix.data)==null?void 0:h.share_accepted)==!1?l(k):l(b,!1)},!0)}d(m,c)};f(v,m=>{var c;((c=a.mix.data)==null?void 0:c.share_accepted)==!0?m(s):m(u,!1)})}n(i),n(t),d(e,t)};f(Ue,e=>{var t;ee().props.auth.user&&((t=a.mix.data)==null?void 0:t.share_mix)==!0&&e(qe)})}n(B);var Ne=r(B,2);{var Re=e=>{sa(e,{$$events:{close:()=>p(I,!1)}})};f(Ne,e=>{g(I)&&e(Re)})}P(()=>{ra(F,`flex w-full justify-between ${(g(I)?"pointer-events-none":"pointer-events-auto")??""}`),S(ie,`${a.mix.data.name??""} `),S(Ie,g(D)==1?"":g(D)<1?`/ ${1/g(D)}`:`* ${g(D)}`),S(Oe,` ${a.mix.data.cuisine.name??""}`)}),d(w,te)},$$slots:{default:!0}}),Ke(),he()}aa(["keyup","click"]);export{st as default};
