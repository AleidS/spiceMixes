import{b as H,N as K,f as W,q as $,j as L,a as l,c as Q,s as R,D as U,t as j,z as V,A as X,e as n,n as g,r as m,d as r,l as i,v as f,k as C,F as Z,W as ee}from"./app-KVSHziSA.js";import{B}from"./Button-DIBib4U3.js";import{I as h}from"./Input-DcC5zss_.js";import{I as ae}from"./Icon-CDzqbr2i.js";import"./snippet-CfFXJfA7.js";import"./attributes-B773vGQa.js";import"./class-CojaL2WQ.js";import"./input-D-V9Tc3t.js";import"./index-client-HeMWPJ0R.js";var te=(v,a)=>V(a,!i(a)),se=j(`<dialog open><form method="dialog" class="flex flex-col gap-y-4 text-base font-normal"><h2>Share recipe</h2> <p>Share this mix with another user by typing in their email adress below. The mix
                    will be sent as-is (it's not collaborative), and images are not included. If you
                    want to submit the mix for sharing on the homepage, click 'edit' instead!</p> <!> <p>What is your name? If not given, you will send the recipe anonymously</p> <!> <p>Want to include a personal message?</p> <!> <div class="flex w-full justify-between"><!> <!></div></form></dialog>`),re=j('<button class="relative flex text-2xl text-uiGray-200"><!>Share</button> <!>',1);function ge(v,a){H(a,!0);const[N,P]=R(),T=()=>L(U,"$page",N);let x=X(!1);const t={email:"",name:"",message:"",mix_id:a.mix.data.id,mix:JSON.stringify(a.mix.data)};function q(){console.log(t),ee.post("/shares/send",t),alert("Thank you! We cannot tell you if the email adress is registered, but if it is,             the other user should get a notification when they login/refresh the page!")}var b=K(),z=W(b);{var A=c=>{var o=re(),s=W(o);s.__click=[te,x];var D=n(s);ae(D,{icon:"mdi:share"}),g(),m(s);var F=r(s,2);{var G=p=>{var u=se(),_=n(u),y=r(n(_),4);const J=f(()=>{var e;return(e=a.errors)==null?void 0:e.email});h(y,{type:"text",placeholder:"email",class:"w-80 flex-1 text-black",wrapperClass:"!w-80 col-span-1 lg:col-span-5",label:"target user email",get error(){return i(J)},get value(){return t.email},set value(e){t.email=e}});var w=r(y,4);const M=f(()=>{var e;return(e=a.errors)==null?void 0:e.name});h(w,{type:"text",placeholder:"name",class:"w-80 flex-1 text-black",wrapperClass:"col-span-1 lg:col-span-5",label:"Your name",get error(){return i(M)},get value(){return t.name},set value(e){t.name=e}});var k=r(w,4);const O=f(()=>{var e;return(e=a.errors)==null?void 0:e.message});h(k,{type:"textfield",placeholder:"message",class:"w-80 flex-1 text-black",wrapperClass:"col-span-1 lg:col-span-5",label:"Custom message",get error(){return i(O)},get value(){return t.message},set value(e){t.message=e}});var I=r(k,2),S=n(I);B(S,{type:"submit",children:(e,E)=>{g();var d=C("Back");l(e,d)},$$slots:{default:!0}});var Y=r(S,2);B(Y,{type:"submit",class:"!bg-success-500 !text-white",onclick:q,children:(e,E)=>{g();var d=C("Send!");l(e,d)},$$slots:{default:!0}}),m(I),m(_),m(u),l(p,u)};$(F,p=>{i(x)&&p(G)})}l(c,o)};$(z,c=>{var o,s;(s=(o=T().props)==null?void 0:o.auth)!=null&&s.user&&c(A)})}l(v,b),Q(),P()}Z(["click"]);export{ge as default};
