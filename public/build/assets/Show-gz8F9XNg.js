import{b as We,z as p,P as L,A as E,h as Ye,t as _,f as x,e as o,n as j,a as d,d as r,q as f,r as n,l as g,B as ve,j as He,w as P,v as me,N as G,k as ce,c as Je,s as Ke,D as Qe,$ as Xe,o as Ze,V as $e,x as S,E as ue,F as ea}from"./app-KVSHziSA.js";import{I as T,h as aa}from"./Icon-CDzqbr2i.js";import{a as M}from"./attributes-B773vGQa.js";import{s as ta}from"./class-CojaL2WQ.js";import{A as ra,L as $}from"./AuthenticatedLayout-Br66rDqx.js";import ia from"./CalculatorWrapper-BBDTRY_g.js";import{B as A}from"./Button-DIBib4U3.js";import{S as sa}from"./Switch-CBSjYTCN.js";import oa from"./FavoriteStar-DvDy2lIJ.js";import na from"./ShareMix-wjS1WyAe.js";import{o as fe,c as la,t as da,u as va,m as ma,h as ca,d as ua,s as fa,I as _e}from"./Ingredient-CquLT7AE.js";import"./index-client-HeMWPJ0R.js";import"./snippet-CfFXJfA7.js";import"./link-CQj-9_bI.js";import"./ApplicationLogo-BhkAEU6N.js";import"./index-ByQXoIEy.js";import"./slot-84ec9UNG.js";import"./this-BsrWYCkB.js";import"./Calculator-QU0bUREY.js";import"./Keypad-DIUhjcjh.js";import"./Draggable-DAXIng74.js";import"./input-D-V9Tc3t.js";import"./Input-DcC5zss_.js";var _a=(O,a)=>{p(a,!1)},xa=_("<!> Back to Mixes",1),ga=_("<!> Edit",1),ha=_("<!> Duplicate & edit",1),ba=_('<img src="/storage/pexels-martabranco-1340116.jpg" alt="4 spoons with spices" class="max-h-full min-h-full min-w-full max-w-full overflow-hidden rounded-md object-cover object-center"> <a target="_blank" class="z-2 absolute bottom-[0px] left-[0px] rounded-tr-md p-1 text-base font-light backdrop-blur-sm backdrop-brightness-50 hover:scale-105 hover:brightness-110">Fallback<!></a>',1),pa=_('<a target="_blank" class="z-2 absolute bottom-[0px] left-[0px] rounded-tr-md p-1 text-base font-light backdrop-blur-sm backdrop-brightness-50 hover:scale-105 hover:brightness-110">src <!></a>'),wa=_('<img class="max-h-full min-h-full min-w-full max-w-full overflow-hidden rounded-md object-cover object-center"> <!>',1),ya=_('<div class="mb-1 mt-2"><strong>Optional:</strong></div> <!>',1),ka=(O,a)=>{O.stopPropagation(),p(a,!0)},Pa=_('<div class="flex items-center gap-2"><!> <!> <!></div> <div class="-mb-2 mt-2 text-sm font-light"><strong>Total</strong> (excl. weight measures) â‰ˆ <span class="font-medium"> </span></div> <!>',1),ja=_('<div class="box"><h4>Description</h4> <p><!></p></div>'),Sa=_('<p><strong>Source(s):</strong> <a class="underline"> </a></p>'),Ta=_("<strong>Source:</strong> ",1),Da=_(`<strong>Accepted!</strong> Thank you for contributing to tastier cooking for
                        all:) You should be able to find a public mix with this name now.`,1),Ia=_("<br> <strong>Reason given:</strong> ",1),za=_("<strong>Denied.</strong> Sorry! Maybe next time:) <!>",1),Aa=_("<strong>Under review!</strong> Please be patient:)",1),Ba=_('<div class="px-4"><p><strong class="mb-2">Share status: <br></strong> Thank you for submitting your mix for sharing on the homepage! The status is: <br> <!></p></div>'),Ca=_('<div class="page flex cursor-auto flex-col gap-6" role="button" tabindex="0"><div class="flex w-full items-center justify-between"><!> <!></div> <div><h1 class="flex items-center gap-2 font-primary text-3xl font-medium"> <!></h1> <!></div> <div class="flex flex-wrap justify-stretch gap-6 md:justify-between"><div class=" sm: relative h-[250px] w-full overflow-hidden rounded-md border border-uiGray-400 object-cover sm:max-w-[300px] md:max-w-[300px]"><!></div> <div class="box flex flex-1 flex-col justify-between gap-y-4"><div class="flex w-full items-start justify-between"><div><div class="flex items-center justify-start"><h4>Ingredients:</h4> &nbsp; <div class="mb-1 inline text-center font-light text-uiDark-100"> </div></div> <ul class="leading-0 relative ml-0 list-none"><!> <!></ul></div> <button class="rounded-lg border border-primary-400 p-1 text-white"><!></button></div> <!></div></div> <!> <div class="px-4"><p><strong>Cuisine:</strong> </p> <!></div> <!></div> <!>',1);function it(O,a){We(a,!0);const[xe,ge]=Ke(),ee=()=>He(Qe,"$page",xe);fe(a.mix,a.measures),la(a.mix,a.measures);let ae=E(void 0);da.subscribe(w=>{p(ae,L(w))});let U=E(void 0);va.subscribe(w=>{p(U,L(w))});let D=E(1);ma.subscribe(w=>{p(D,L(w))});let I=E(!1),q=E(!1);function he(){p(q,!0)}Ye(w=>{P(()=>Xe.title=a.mix.data.name)}),ra(O,{children:(w,Ea)=>{var te=Ca(),B=x(te);B.__keyup=[_a,I],B.__click=function(...e){var t;(t=p(I,!1))==null||t.apply(this,e)};var N=o(B),re=o(N);A(re,{class:" !bg-secondary-600 !text-uiGray-50 hover:bg-secondary-400 ",children:(e,t)=>{$(e,{href:route("home"),class:"flex items-center gap-1 ",children:(i,v)=>{var s=xa(),u=x(s);T(u,{icon:"mdi:arrow-left-circle",class:"mb-[2px] size-4"}),j(),d(i,s)},$$slots:{default:!0}})},$$slots:{default:!0}});var be=r(re,2);{var pe=e=>{const t=me(()=>route("mixes.edit",a.mix.data.id));$(e,{get href(){return g(t)},children:(i,v)=>{A(i,{primary:!0,children:(s,u)=>{var m=ga(),c=x(m);T(c,{icon:"mdi:pencil",class:""}),j(),d(s,m)},$$slots:{default:!0}})},$$slots:{default:!0}})},we=e=>{var t=G(),i=x(t);{var v=s=>{const u=me(()=>route("mixes.duplicate",a.mix.data.id));$(s,{get href(){return g(u)},children:(m,c)=>{A(m,{primary:!0,children:(y,k)=>{var b=ha(),l=x(b);T(l,{icon:"mdi:pencil",class:""}),j(),d(y,b)},$$slots:{default:!0}})},$$slots:{default:!0}})};f(i,s=>{ee().props.auth.user&&s(v)},!0)}d(e,t)};f(be,e=>{a.mix.data.editable?e(pe):e(we,!1)})}n(N);var F=r(N,2),R=o(F),ie=o(R),ye=r(ie);oa(ye,{get mix(){return a.mix.data},class:"inline"}),n(R);var ke=r(R,2);{var Pe=e=>{na(e,{get mix(){return a.mix}})};f(ke,e=>{a.mix.data.editable&&e(Pe)})}n(F);var V=r(F,2),W=o(V),je=o(W);{var Se=e=>{var t=ba(),i=r(x(t),2);M(i,"href","https://www.pexels.com/photo/four-assorted-spices-on-wooden-spoons-1340116/");var v=r(o(i));T(v,{icon:"mdi:link-variant",class:"inline"}),n(i),d(e,t)},Te=e=>{var t=G(),i=x(t);{var v=s=>{var u=wa(),m=x(u),c=r(m,2);{var y=k=>{var b=pa(),l=r(o(b));T(l,{icon:"mdi:link-variant",class:"inline"}),n(b),P(()=>M(b,"href",`${a.mix.data.img_source}`)),d(k,b)};f(c,k=>{a.mix.data.img_source!=""&&a.mix.data.img_source!=null&&k(y)})}P(()=>{M(m,"src",a.mix.data.avatar),M(m,"alt",a.mix.data.name)}),Ze("error",m,he),$e(m),d(s,u)};f(i,s=>{a.mix.data.avatar&&!g(q)&&s(v)},!0)}d(e,t)};f(je,e=>{!a.mix.data.avatar||g(q)?e(Se):e(Te,!1)})}n(W);var se=r(W,2),Y=o(se),H=o(Y),J=o(H),oe=r(o(J),2),De=o(oe,!0);n(oe),n(J);var ne=r(J,2),le=o(ne);ve(le,17,()=>a.mix.data.ingredients.filter(e=>!e.optional),ue,(e,t)=>{_e(e,{get ingredient(){return g(t)},get mix(){return a.mix},get measures(){return a.measures}})});var Ie=r(le,2);{var ze=e=>{var t=ya(),i=r(x(t),2);ve(i,17,()=>a.mix.data.ingredients.filter(v=>v.optional),ue,(v,s)=>{_e(v,{get ingredient(){return g(s)},get mix(){return a.mix},get measures(){return a.measures}})}),d(e,t)};f(Ie,e=>{a.mix.data.ingredients.filter(t=>t.optional).length>0&&e(ze)})}n(ne),n(H);var K=r(H,2);K.__click=[ka,I];var Ae=o(K);T(Ae,{icon:"mdi:calculator",class:"text-2xl"}),n(K),n(Y);var Be=r(Y,2);{var Ce=e=>{var t=Pa(),i=x(t),v=o(i);A(v,{class:"!rounded-full !bg-primary-600 !px-2 !py-1 !text-white",onclick:l=>{l.stopPropagation(),ca(a.mix,a.measures)},children:(l,h)=>{j();var z=ce("half");d(l,z)},$$slots:{default:!0}});var s=r(v,2);A(s,{class:"!rounded-full !bg-primary-600 !px-1 !py-1 !text-white",onclick:l=>{l.stopPropagation(),ua(a.mix,a.measures)},children:(l,h)=>{j();var z=ce("double");d(l,z)},$$slots:{default:!0}});var u=r(s,2);{var m=l=>{A(l,{class:"!rounded-full !bg-primary-600 !p-1 !text-white",onclick:h=>{h.stopPropagation(),fe(a.mix,a.measures)},children:(h,z)=>{T(h,{icon:"mdi:arrow-u-left-top"})},$$slots:{default:!0}})};f(u,l=>{g(D)!=1&&l(m)})}n(i);var c=r(i,2),y=r(o(c),2),k=o(y,!0);n(y),n(c);var b=r(c,2);sa(b,{switchClass:"!scale-75",textClass:"font-light text-sm",text:"Use original units",click:()=>{setTimeout(fa(),100)},get checked(){return g(U)},set checked(l){p(U,L(l))}}),P(()=>S(k,g(ae))),d(e,t)};f(Be,e=>{a.mix.data.ingredients.length>0&&e(Ce)})}n(se),n(V);var de=r(V,2);{var Ee=e=>{var t=ja(),i=r(o(t),2),v=o(i);aa(v,()=>{var s;return(s=a.mix.data)==null?void 0:s.description},!1,!1),n(i),n(t),d(e,t)};f(de,e=>{var t;(t=a.mix.data)!=null&&t.description&&e(Ee)})}var Q=r(de,2),X=o(Q),Me=r(o(X));n(X);var Oe=r(X,2);{var Fe=e=>{var t=Sa(),i=r(o(t),2),v=o(i,!0);n(i),n(t),P(()=>{var s;M(i,"href",a.mix.data.source_url),S(v,((s=a.mix.data)==null?void 0:s.source_name)??"link")}),d(e,t)},Le=e=>{var t=G(),i=x(t);{var v=s=>{var u=Ta(),m=r(x(u),1,!0);P(()=>{var c;return S(m,(c=a.mix.data)==null?void 0:c.source_name)}),d(s,u)};f(i,s=>{var u;(u=a.mix.data)!=null&&u.source_name&&s(v)},!0)}d(e,t)};f(Oe,e=>{var t;(t=a.mix.data)!=null&&t.source_url?e(Fe):e(Le,!1)})}n(Q);var Ge=r(Q,2);{var Ue=e=>{var t=Ba(),i=o(t),v=r(o(i),4);{var s=m=>{var c=Da();j(),d(m,c)},u=m=>{var c=G(),y=x(c);{var k=l=>{var h=za(),z=r(x(h),2);{var Re=Z=>{var C=Ia(),Ve=r(x(C),3);P(()=>S(Ve,` ${a.mix.data.share_decline_reason??""}`)),d(Z,C)};f(z,Z=>{var C;(C=a.mix.data)!=null&&C.share_decline_reason&&Z(Re)})}d(l,h)},b=l=>{var h=Aa();j(),d(l,h)};f(y,l=>{var h;((h=a.mix.data)==null?void 0:h.share_accepted)==!1?l(k):l(b,!1)},!0)}d(m,c)};f(v,m=>{var c;((c=a.mix.data)==null?void 0:c.share_accepted)==!0?m(s):m(u,!1)})}n(i),n(t),d(e,t)};f(Ge,e=>{var t;ee().props.auth.user&&((t=a.mix.data)==null?void 0:t.share_mix)==!0&&e(Ue)})}n(B);var qe=r(B,2);{var Ne=e=>{ia(e,{$$events:{close:()=>p(I,!1)}})};f(qe,e=>{g(I)&&e(Ne)})}P(()=>{ta(F,`flex w-full justify-between ${(g(I)?"pointer-events-none":"pointer-events-auto")??""}`),S(ie,`${a.mix.data.name??""} `),S(De,g(D)==1?"":g(D)<1?`/ ${1/g(D)}`:`* ${g(D)}`),S(Me,` ${a.mix.data.cuisine.name??""}`)}),d(w,te)},$$slots:{default:!0}}),Je(),ge()}ea(["keyup","click"]);export{it as default};
