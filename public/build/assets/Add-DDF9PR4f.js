var ht=a=>{throw TypeError(a)};var Je=(a,e,t)=>e.has(a)||ht("Cannot "+t);var i=(a,e,t)=>(Je(a,e,"read from private field"),t?t.call(a):e.get(a)),x=(a,e,t)=>e.has(a)?ht("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),se=(a,e,t,n)=>(Je(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t),vt=(a,e,t)=>(Je(a,e,"access private method"),t);import{z as O,G as rr,l as f,H as ye,I as ar,u as l,J as ir,K as pt,L as sr,M as Xe,v as te,A as we,b as At,p as nr,N as Ct,f as j,a as p,c as Dt,y as lr,j as gt,g as v,h as or,q as U,t as y,e as g,d,n as F,r as b,O as dr,B as bt,P as ur,k as ge,w as Z,o as be,s as cr,D as fr,$ as mr,E as _t,x as ce,W as Ke,Q as _e}from"./app-KVSHziSA.js";import{a as hr}from"./link-CQj-9_bI.js";import{r as xe,s as xt,a as vr}from"./attributes-B773vGQa.js";import{b as Ye}from"./input-D-V9Tc3t.js";import{b as pr}from"./this-BsrWYCkB.js";import{A as gr,L as yt,T as br,a as _r}from"./AuthenticatedLayout-Br66rDqx.js";import{u as xr}from"./useForm-Djgs3a5P.js";import{B as $}from"./Button-DIBib4U3.js";import{I as q}from"./Input-DcC5zss_.js";import{I as H}from"./Icon-CDzqbr2i.js";import{R as yr}from"./RichTextTipTap-P--aUyvT.js";import{s as wr}from"./snippet-CfFXJfA7.js";import{S as wt}from"./Switch-CBSjYTCN.js";import"./class-CojaL2WQ.js";import"./ApplicationLogo-BhkAEU6N.js";import"./index-ByQXoIEy.js";import"./slot-84ec9UNG.js";import"./index-client-HeMWPJ0R.js";function ke(a){O(a,a.v+1)}function kr(a){let e=0,t=ye(0),n;return()=>{rr()&&(f(t),ar(()=>(e===0&&(n=l(()=>a(()=>ke(t)))),e+=1,()=>{ir().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}var zr=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],Sr=["difference","intersection","symmetricDifference","union"],kt=!1,ne,B,X,Ce,Tt;const De=class De extends Set{constructor(t){super();x(this,Ce);x(this,ne,new Map);x(this,B,ye(0));x(this,X,ye(0));if(t){for(var n of t)super.add(n);i(this,X).v=super.size}kt||vt(this,Ce,Tt).call(this)}has(t){var n=super.has(t),m=i(this,ne),r=m.get(t);if(r===void 0){if(!n)return f(i(this,B)),!1;r=ye(!0),m.set(t,r)}return f(r),n}add(t){return super.has(t)||(super.add(t),O(i(this,X),super.size),ke(i(this,B))),this}delete(t){var n=super.delete(t),m=i(this,ne),r=m.get(t);return r!==void 0&&(m.delete(t),O(r,!1)),n&&(O(i(this,X),super.size),ke(i(this,B))),n}clear(){if(super.size!==0){super.clear();var t=i(this,ne);for(var n of t.values())O(n,!1);t.clear(),O(i(this,X),0),ke(i(this,B))}}keys(){return this.values()}values(){return f(i(this,B)),super.values()}entries(){return f(i(this,B)),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return f(i(this,X))}};ne=new WeakMap,B=new WeakMap,X=new WeakMap,Ce=new WeakSet,Tt=function(){kt=!0;var t=De.prototype,n=Set.prototype;for(const m of zr)t[m]=function(...r){return f(i(this,B)),n[m].apply(this,r)};for(const m of Sr)t[m]=function(...r){f(i(this,B));var w=n[m].apply(this,r);return new De(w)}};let re=De;function Ze(a){return typeof a=="function"}function ze(a){return a instanceof re}function Ae(a){return a!==null&&typeof a=="object"&&Symbol.iterator in a}function Se(a,e){if(Ze(a)){const n=a();return n??e??n}return a??e??a}function Ar(a){let e;for(const t of a)e=t;return e}function Cr(a){let e;for(const t of a){e=t;break}return e}function He(a,e){for(const t of a)e(t)}const Dr=typeof window<"u"?window:void 0;function Tr(a){let e=a.activeElement;for(;e!=null&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}var le,me;class Ir{constructor(e={}){x(this,le);x(this,me);const{window:t=Dr,document:n=t==null?void 0:t.document}=e;t!==void 0&&(se(this,le,n),se(this,me,kr(m=>{const r=pt(t,"focusin",m),w=pt(t,"focusout",m);return()=>{r(),w()}})))}get current(){var e;return(e=i(this,me))==null||e.call(this),i(this,le)?Tr(i(this,le)):null}}le=new WeakMap,me=new WeakMap;new Ir;function Mr(a,e){switch(a){case"post":Xe(e);break;case"pre":sr(e);break}}function It(a,e,t,n={}){const{lazy:m=!1}=n;let r=!m,w=Array.isArray(a)?[]:void 0;Mr(e,()=>{const u=Array.isArray(a)?a.map(L=>L()):a();if(!r){r=!0,w=u;return}const W=l(()=>t(u,w));return w=u,W})}function $e(a,e,t){It(a,"post",e,t)}function jr(a,e,t){It(a,"pre",e,t)}$e.pre=jr;function fe(a){return a===void 0?new re:ze(a)?a:Ae(a)?new re(a):new re([a])}function zt(a){return!Ae(a)||a===void 0?a:Ar(a)}var D,E,Te,Ie;class Er{constructor(e){x(this,D);x(this,E,new re);x(this,Te,te(()=>ze(i(this,D).value)||Ze(i(this,D).value)));x(this,Ie,te(()=>Se(i(this,D).multiple,!1)));se(this,D,e),!this.isControlled&&(!Ae(e.value)&&e.value!==void 0?i(this,E).add(e.value):Ae(e.value)&&He(e.value,t=>i(this,E).add(t)),$e(()=>this.isMultiple,t=>{if(t)return;const n=this.current;i(this,E).clear(),n!==void 0&&i(this,E).add(n)},{lazy:!0}))}get isControlled(){return f(i(this,Te))}get isMultiple(){return f(i(this,Ie))}get current(){let e;return Ze(i(this,D).value)?e=i(this,D).value():ze(i(this,D).value)?e=i(this,D).value:e=i(this,E),this.isMultiple?fe(e):zt(e)}manipulate(e){const t=this.isControlled?fe(this.current):i(this,E);e(t);const n=this.isMultiple?t:zt(t);this.onChange(n)}onChange(e){i(this,D).onChange&&i(this,D).onChange(e)}set current(e){this.onChange(e),!this.isControlled&&(i(this,E).clear(),ze(e)?e.forEach(t=>i(this,E).add(t)):e!==void 0&&i(this,E).add(e))}has(e){return fe(this.current).has(e)}add(e){this.manipulate(t=>{this.isMultiple||t.clear(),t.add(e)})}addAll(e){this.manipulate(t=>{this.isMultiple?He(e,n=>t.add(n)):(t.clear(),t.add(Cr(e)))})}delete(e){this.manipulate(t=>{t.delete(e)})}deleteAll(e){this.manipulate(t=>He(e,t.delete))}clear(){this.manipulate(e=>e.clear())}size(){return fe(this.current).size}toggle(e){this.manipulate(t=>{t.has(e)?t.delete(e):t.add(e)})}toSet(){return fe(this.current)}}D=new WeakMap,E=new WeakMap,Te=new WeakMap,Ie=new WeakMap;function Or(a){return a===!0?"":a===!1?void 0:a}const Pr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Fr=(a=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(a|=0));for(;a--;)e+=Pr[t[a]&63];return e};function Br(a){return Object.keys(a)}function V(a,e){return e.reduce((t,n)=>(t[n]=`data-melt-${a}-${n}`,t),{})}function Rr(a){const e=Fr();return Object.keys(a).reduce((t,n)=>(t[n]=`${n}-${e}`,t),{})}function Oe(a,e){const t=V(a,e),n=Br(t).reduce((m,r)=>(m[r]=`[${t[r]}]`,m),{});return{dataAttrs:t,dataSelectors:n,createIds:()=>Rr(t)}}Oe("accordion",["root","item","trigger","heading","content"]);function Lr(a){return Object.fromEntries(Object.keys(a).map(e=>[e,()=>a[e]]))}V("avatar",["image","fallback"]);Oe("collapsible",["root","trigger","content"]);V("pin-input",["root","input"]);V("popover",["trigger","content"]);V("progress",["root","progress"]);Oe("radio-group",["root","item","label","hidden-input"]);V("tabs",["trigger","content","trigger-list"]);V("toggle",["trigger","hidden-input"]);V("slider",["root","track","thumb","range"]);V("tree",["root","item","group"]);const{dataAttrs:St,createIds:qr}=Oe("fileupload",["dropzone","input"]);var T,Me,je,Ee,Q,ee,R,he;class Wr{constructor(e={}){x(this,T);x(this,Me,te(()=>Se(i(this,T).multiple,!1)));x(this,je,te(()=>Se(i(this,T).accept,void 0)));x(this,Ee,te(()=>Se(i(this,T).maxSize,void 0)));x(this,Q,we(!1));x(this,ee,qr());x(this,R);x(this,he,e=>{var m,r,w,u,W,L,J,oe;if(!e)return;const t=Array.from(e),n=[];for(const z of t){if(this.accept&&!this.accept.split(",").map(N=>N.trim()).some(N=>{if(N.startsWith("."))return z.name.toLowerCase().endsWith(N.toLowerCase());if(N.endsWith("/*")){const S=N.split("/")[0];return z.type.startsWith(`${S}/`)}else return z.type===N})){(r=(m=i(this,T)).onError)==null||r.call(m,{type:"type",file:z,message:`File type ${z.type} is not accepted`});continue}if(this.maxSize&&z.size>this.maxSize){(u=(w=i(this,T)).onError)==null||u.call(w,{type:"size",file:z,message:`File size ${z.size} exceeds maximum size of ${this.maxSize}`});continue}if(i(this,T).validate&&!i(this,T).validate(z)){(L=(W=i(this,T)).onError)==null||L.call(W,{type:"validation",file:z,message:"File failed custom validation"});continue}n.push(z),(oe=(J=i(this,T)).onAccept)==null||oe.call(J,z)}n.length&&(this.multiple?i(this,R).addAll(n):i(this,R).add(n[0]))});se(this,T,e),se(this,R,new Er({value:e.selected,onChange:e.onSelectedChange,multiple:e.multiple}))}get multiple(){return f(i(this,Me))}get accept(){return f(i(this,je))}get maxSize(){return f(i(this,Ee))}get isDragging(){return f(i(this,Q))}get selected(){return i(this,R).current}set selected(e){i(this,R).current=e}clear(){i(this,R).clear()}remove(e){i(this,R).delete(e)}get dropzone(){return{[St.dropzone]:"","data-dragging":Or(f(i(this,Q))),ondragenter:e=>{e.preventDefault(),f(i(this,Q))||O(i(this,Q),!0)},ondragleave:e=>{e.preventDefault();const t=e.relatedTarget,n=e.currentTarget;(!t||!n.contains(t))&&O(i(this,Q),!1)},ondragover:e=>{e.preventDefault()},ondrop:e=>{var t;e.preventDefault(),O(i(this,Q),!1),(t=e.dataTransfer)!=null&&t.files&&i(this,he).call(this,e.dataTransfer.files)},onclick:()=>{const e=document.getElementById(i(this,ee).input);e&&e.click()}}}get input(){return $e(()=>i(this,R),e=>{const t=document.getElementById(i(this,ee).input);if(!t)return;const n=e.toSet(),m=new DataTransfer;for(const r of n)m.items.add(r);t.files=m.files}),{[St.input]:"",id:i(this,ee).input,type:"file",accept:this.accept,multiple:this.multiple,style:"display: none;",onchange:e=>{const t=e.target;i(this,he).call(this,t.files)}}}get trigger(){return{onclick:()=>{const e=document.getElementById(i(this,ee).input);e&&e.click()}}}}T=new WeakMap,Me=new WeakMap,je=new WeakMap,Ee=new WeakMap,Q=new WeakMap,ee=new WeakMap,R=new WeakMap,he=new WeakMap;function Nr(a,e){At(e,!0);let t=nr(e,"selected",15),n=lr(e,["$$slots","$$events","$$legacy","selected","children","validate","multiple"]);const m=new Wr({...Lr(n),selected:()=>t(),onSelectedChange(u){t(u)},multiple:()=>e.multiple});var r=Ct(),w=j(r);wr(w,()=>e.children,()=>m),p(a,r),Dt()}var Gr=y(" <br>",1),Ur=y('<dialog open><form method="dialog">there were one or multiple errors: <br><br> <!> <br> <!></form></dialog>'),Qr=y("<!> Back to Mixes / Cancel",1),Vr=y('<img ref="image" alt="" class="-z-1 absolute left-0 top-0 h-full w-full border-none object-cover">'),Jr=y('<div class="absolute bottom-4 h-fit w-fit text-sm font-light">no image selected, will use a fallback</div>'),Kr=y(`Click <span class="hidden sm:inline">or drag</span> to
                                            upload <br> <span class="text-sm font-light">(max 2mb, allowed types: jpeg,png,jpg,svg)</span>`,1),Yr=y('<input> <div><!> <div class="z-2 relative h-fit w-fit rounded-md p-4 backdrop-blur-md"><!></div></div>',1),Hr=y('<div class="error h-fit max-w-48 text-wrap px-4 py-2 text-danger-300"><!> </div>'),Xr=y("<!> Remove",1),Zr=y('<!> <!> <!> <div class="flex items-center"><span class="block sm:hidden">optional</span><input type="checkbox" class="checkbox mb-2 ml-2"></div> <!>',1),$r=y("<!> Add new Ingredient",1),ea=y('<div class="error"> </div>'),ta=y(`<p>Great! I'll review them when I have time. <br><br> <strong>Please read:</strong><br> -Images will not be included. <br> -You will retain your own copy of the mix, but you won't be able to edit
                            the public one anymore. <br> -Details might be changed to fit the audience.<br> -You won't be able to claim any rights regarding your submission. <br> -Only submit mixes that are your own original recipes (i.e. if it's a common
                            blend, it must be your own variation) <br> -If you have submitted this mix before, it will not be reviewed again. Submit
                            a new variant instead. <br><br></p> Please confirm you have read these terms and this is your own original mix: <input label="this is my own original mix" type="checkbox" class="checkbox ml-2"> <br> <br> <p>If you want credits (in the description) please enter your name or
                            pseudonym here. <br> This cannot be changed or removed once accepted; <br><br></p> <!>`,1),ra=y("<!> Back to Mixes / Cancel",1),aa=y("<!> ",1),ia=y("<!> Delete mix",1),sa=y(`<div class="box w-fit !bg-danger-600 text-xl font-medium"><!>&nbsp;Danger
                        zone <br><br> <!></div>`),na=y('<div class="page"><!> <form class="flex flex-col gap-y-6"><div class="flex justify-between"><!></div> <div class="flex w-fit flex-1 flex-row flex-wrap items-center justify-start gap-3 md:justify-start"><!></div> <div class="flex min-h-56 flex-wrap items-stretch justify-stretch gap-6"><div aria-label="File upload dropzone" role="region" class="flex h-fit w-full flex-col items-center justify-start rounded-md bg-uiDark-600 md:h-auto md:w-fit"><!> <!> <!></div> <div class="flex w-[300px] max-w-full flex-1 flex-col gap-4"><div class="box flex h-full flex-col gap-4"><h3>Ingredients</h3> <div class="grid w-full grid-cols-1 items-end gap-2 lg:grid-cols-12"><div class="col-span-1 hidden lg:col-span-2 lg:block">Quantity</div> <div class="col-span-1 hidden lg:col-span-3 lg:block">Measure</div> <div class="col-span-1 hidden lg:col-span-4 lg:block">Name</div> <div class="col-span-1 hidden lg:col-span-2 lg:block">Optional</div> <!></div> <!> <!></div></div></div> <div class="box flex !h-fit flex-col gap-y-4"><div>Description</div> <!> <!></div> <div class="box flex items-center gap-2"><!> <a href="/cuisines" target="_blank" class="underline">Manage cuisines</a></div> <div class="box flex flex-wrap gap-4"><!> <!></div> <div class="box"><h4>Share this mix!</h4> <p>Do you want to submit this mix to be reviewed and shared on the platform <strong>for all to see?</strong><br></p> <!> <br> <!></div> <div class="w-full p-2 text-right font-light">By uploading my content I agree to the <a href="/uploadTerms" target="_blank" class="tab-link-class underline">upload terms and conditions</a> and <a href="/generalTerms" target="_blank" class="tab-link-class underline">general terms and conditions</a> <input type="checkbox" class="checkbox ml-2"></div> <div class="flex flex-wrap justify-between gap-2"><!> <!> <!></div> <br><br><br><br> <!></form></div>');function Aa(a,e){At(e,!0);const[t,n]=cr(),m=()=>gt(fr,"$page",t),r=()=>gt(u,"$form",t);let w=we(!1);Object.keys(e.errors)[0]&&(open=!0);const u=xr({name:"",ingredients:[{quantity:null,measure_id:null,name:null},{quantity:null,measure_id:null,name:null},{quantity:null,measure_id:null,name:null},{quantity:null,measure_id:null,name:null},{quantity:null,measure_id:null,name:null}],description:"",source_url:"",source_name:"",user_id:m().props.auth.user.id,cuisine_id:null,avatar:null,img_source:"",share_mix:!1,share_is_original:!1,share_name:""});let W=we(!1);Xe(()=>{var S,k;console.log((S=e.mix)==null?void 0:S.data),(k=e.mix)!=null&&k.data&&(v(u,l(r).name=e.mix.data.name,l(r)),v(u,l(r).ingredients=e.mix.data.ingredients,l(r)),v(u,l(r).description=e.mix.data.description,l(r)),v(u,l(r).user_id=e.mix.data.user_id,l(r)),v(u,l(r).cuisine_id=e.mix.data.cuisine_id,l(r)),v(u,l(r).avatar=e.mix.data.avatar,l(r)),v(u,l(r).img_source=e.mix.data.img_source,l(r)),v(u,l(r).share_mix=!!e.mix.data.share_mix,l(r)),v(u,l(r).share_name=e.mix.data.share_name??"",l(r)),v(u,l(r).share_is_original=!!e.mix.data.share_is_original,l(r)))});let L=we(void 0);const J=new FileReader;J.addEventListener("load",function(){f(L)&&f(L).setAttribute("src",J.result)});let oe=!1;Xe(()=>{r().avatar&&!r().processing&&oe==!1&&(typeof u.avatar=="string"?f(L).setAttribute("src",r().avatar):u.avatar instanceof Blob&&J.readAsDataURL(r().avatar))});function z(S){const k=S.target.files;if(k.length>0){if(k[0].size>2028e3){alert("max file size is 2mb");return}v(u,l(r).avatar=k[0],l(r)),J.readAsDataURL(k[0])}}function et(S){const k=S.dataTransfer.files;if(k.length>0){if(k[0].size>2028e3){alert("max file size is 2mb");return}v(u,l(r).avatar=k[0],l(r)),J.readAsDataURL(k[0])}}async function tt(S){var k;oe=!0,S.preventDefault(),typeof r().avatar=="string"&&delete r().avatar,v(u,l(r).ingredients=JSON.stringify(r().ingredients),l(r)),(k=e.mix)!=null&&k.data.id?Ke.post(`/mixes/${e.mix.data.id}`,r(),{headers:{"Content-Type":"multipart/form-data"}}):Ke.post("/mixes",r(),{headers:{"Content-Type":"multipart/form-data"}})}async function N(S){console.log("deleting"),{...r()},Ke.delete(`/mixes/delete/${e.mix.data.id}`)}or(S=>{mr.title="Add a mix"}),gr(a,{children:(S,k)=>{var rt=Ct(),Mt=j(rt);{var jt=ae=>{var K=na(),de=g(K);{var Ot=s=>{var o=Ur(),c=g(o),_=d(g(c),4);bt(_,17,()=>Object.keys(e.errors),_t,(A,I,M)=>{F();var Y=Gr(),ue=j(Y);F(),Z(()=>ce(ue,`${M+1}. ${e.errors[f(I)]??""} `)),p(A,Y)});var h=d(_,4);$(h,{type:"submit",children:(A,I)=>{F();var M=ge("OK");p(A,M)},$$slots:{default:!0}}),b(c),b(o),p(s,o)};U(de,s=>{Object.keys(e.errors)[0]&&s(Ot)})}var Pe=d(de,2),Fe=g(Pe),Pt=g(Fe);$(Pt,{class:" w-fit !bg-secondary-600 !text-uiGray-50 hover:bg-secondary-400",children:(s,o)=>{yt(s,{href:route("home"),class:"flex items-center gap-1 ",children:(c,_)=>{var h=Qr(),A=j(h);H(A,{icon:"mdi:arrow-left-circle",class:"mb-[2px] size-4"}),F(),p(c,h)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(Fe);var Be=d(Fe,2),Ft=g(Be);const Bt=te(()=>{var s;return(s=e.errors)==null?void 0:s.name});q(Ft,{type:"text",placeholder:"Title",class:"w-fit !min-w-64 flex-1 border !border-uiGray-400 !py-1 font-primary !text-2xl !font-bold text-black",wrapperClass:"!justify-start !w-[320px] ",label:"*Title",get error(){return f(Bt)},get value(){return r().name},set value(s){v(u,l(r).name=s,l(r))}}),b(Be);var Re=d(Be,2),ie=g(Re),at=g(ie);Nr(at,{class:"h-auto w-96",children:(o,c=dr)=>{var _=Yr(),h=j(_);xe(h);let A;var I=d(h,2);let M;var Y=g(I);{var ue=C=>{var G=Vr();pr(G,tr=>O(L,tr),()=>f(L)),Z(()=>vr(G,"src",typeof r().avatar=="string"?r().avatar:void 0)),p(C,G)},P=C=>{var G=Jr();p(C,G)};U(Y,C=>{r().avatar?C(ue):C(P,!1)})}var Qe=d(Y,2),pe=g(Qe);{var Ve=C=>{var G=ge("Drop files here");p(C,G)},er=C=>{var G=Kr();F(5),p(C,G)};U(pe,C=>{c().isDragging?C(Ve):C(er,!1)})}b(Qe),b(I),Z(()=>{A=xt(h,A,{accept:"image/*",...c().input,type:"file",onchange:z}),M=xt(I,M,{...c().dropzone,class:"relative flex h-[250px] w-[300px] max-w-full items-center justify-center overflow-hidden rounded-md border border-dashed border-white bg-uiDark-500 p-4 text-center"})}),p(o,_)},$$slots:{default:!0}});var it=d(at,2);q(it,{label:"  Imgage source link (optional)",type:"text",placeholder:"http://www.imagesource.com",wrapperClass:"!p-2 w-full gap-y-1 mt-4 flex-row col-span-1 lg:col-span-2",class:" text-black",min:"0",get value(){return r().img_source},set value(s){v(u,l(r).img_source=s,l(r))}});var Rt=d(it,2);{var Lt=s=>{var o=Hr(),c=g(o);H(c,{icon:"tabler:exclamation-circle-filled",class:"mb-[4px] inline size-4"});var _=d(c);b(o),Z(()=>{var h;return ce(_,` ${((h=e.errors)==null?void 0:h.avatar)??""}`)}),p(s,o)};U(Rt,s=>{var o;(o=e.errors)!=null&&o.avatar&&s(Lt)})}b(ie);var st=d(ie,2),nt=g(st),ve=d(g(nt),2),qt=d(g(ve),8);bt(qt,1,()=>r().ingredients,_t,(s,o,c)=>{var _=Zr(),h=j(_);q(h,{label:"Quantity",labelMobileOnly:!0,type:"number",placeholder:"Quantity",wrapperClass:"col-span-1 lg:col-span-2",class:" text-black",min:"0",step:".25",get value(){return f(o).quantity},set value(P){f(o).quantity=P,_e(t,"$form")}});var A=d(h,2);q(A,{label:"Measure",labelMobileOnly:!0,get options(){return e.measures.data},type:"select",placeholder:"Measure",wrapperClass:"col-span-1 lg:col-span-3",class:" text-black",get value(){return f(o).measure_id},set value(P){f(o).measure_id=P,_e(t,"$form")}});var I=d(A,2);q(I,{label:"Name",labelMobileOnly:!0,type:"text",wrapperClass:"col-span-1 lg:col-span-4",placeholder:"Name",class:"w-64 flex-1 text-black",get value(){return f(o).name},set value(P){f(o).name=P,_e(t,"$form")}});var M=d(I,2),Y=d(g(M));xe(Y),b(M);var ue=d(M,2);$(ue,{type:"button",onclick:()=>{r().ingredients.splice(c,1),v(u,l(r).ingredients=r().ingredients,l(r))},class:"col-span-1 w-fit !bg-transparent !text-danger-200 lg:col-span-2",children:(P,Qe)=>{var pe=Xr(),Ve=j(pe);H(Ve,{icon:"mdi:trash",class:"mb-[2px] size-3"}),F(),p(P,pe)},$$slots:{default:!0}}),Ye(Y,()=>f(o).optional,P=>(f(o).optional=P,_e(t,"$form"))),p(s,_)}),b(ve),hr(ve,s=>{var o;return(o=_r)==null?void 0:o(s)});var lt=d(ve,2);$(lt,{type:"button",onclick:()=>{r().ingredients.length<40?(r().ingredients.push({quantity:"",measure_id:"",name:""}),v(u,l(r).ingredients=r().ingredients,l(r))):alert("too many ingredients!")},class:"w-fit !bg-transparent !bg-opacity-100 px-0 !text-white outline-2 !outline-uiDark-200",children:(s,o)=>{var c=$r(),_=j(c);H(_,{icon:"mdi:plus-circle",class:"mb-[2px]  !text-lg text-success-400"}),F(),p(s,c)},$$slots:{default:!0}});var Wt=d(lt,2);{var Nt=s=>{var o=ea(),c=g(o,!0);b(o),Z(()=>ce(c,e.errors.ingredients)),p(s,o)};U(Wt,s=>{var o;(o=e.errors)!=null&&o.ingredients&&s(Nt)})}b(nt),b(st),b(Re);var Le=d(Re,2),ot=d(g(Le),2);wt(ot,{text:"Show Rich Text Editor",switchClass:"scale-75",get checked(){return f(w)},set checked(s){O(w,ur(s))}});var Gt=d(ot,2);{var Ut=s=>{q(s,{type:"textArea",placeholder:"Description",wrapperClass:"!max-w-full",class:"h-fit !p-4 text-black",get error(){return e.errors.description},get value(){return r().description},set value(o){v(u,l(r).description=o,l(r))}})},Qt=s=>{yr(s,{get value(){return r().description},set value(o){v(u,l(r).description=o,l(r))}})};U(Gt,s=>{f(w)?s(Qt,!1):s(Ut)})}b(Le);var qe=d(Le,2),Vt=g(qe);q(Vt,{label:"*Cuisine",type:"select",get options(){return e.cuisines.data},placeholder:"Cuisine",class:"text-black",get error(){return e.errors.cuisine_id},get value(){return r().cuisine_id},set value(s){v(u,l(r).cuisine_id=s,l(r))}}),F(2),b(qe);var We=d(qe,2),dt=g(We);q(dt,{label:"Source link (optional)",labelClass:"w-full",type:"text",placeholder:"Source url",class:"!w-full text-black",get error(){return e.errors.source_url},wrapperClass:"flex-wrap",get value(){return r().source_url},set value(s){v(u,l(r).source_url=s,l(r))}});var Jt=d(dt,2);q(Jt,{label:"Source name (optional)",type:"text",placeholder:"Source name",class:"w-full text-black",get error(){return e.errors.source_name},get value(){return r().source_name},set value(s){v(u,l(r).source_name=s,l(r))}}),b(We);var Ne=d(We,2),ut=d(g(Ne),4);wt(ut,{text:"Share this mix",switchClass:"scale-75",get checked(){return r().share_mix},set checked(s){v(u,l(r).share_mix=s,l(r))}});var Kt=d(ut,4);{var Yt=s=>{var o=ta(),c=d(j(o),2);xe(c);var _=d(c,8);q(_,{label:"",type:"text",placeholder:"Name for credits",class:"w-full text-black",get error(){return e.errors.share_name},get value(){return r().share_name},set value(h){v(u,l(r).share_name=h,l(r))}}),Ye(c,()=>r().share_is_original,h=>v(u,l(r).share_is_original=h,l(r))),p(s,o)};U(Kt,s=>{r().share_mix&&s(Yt)})}b(Ne);var Ge=d(Ne,2),ct=d(g(Ge),5);xe(ct),b(Ge);var Ue=d(Ge,2),ft=g(Ue);$(ft,{class:" w-fit !bg-secondary-600 !text-uiGray-50 hover:bg-secondary-400",children:(s,o)=>{yt(s,{href:route("home"),class:"flex items-center gap-1 ",children:(c,_)=>{var h=ra(),A=j(h);H(A,{icon:"mdi:arrow-left-circle",class:"mb-[2px] size-4"}),F(),p(c,h)},$$slots:{default:!0}})},$$slots:{default:!0}});var mt=d(ft,2);br(mt,{triggeredBy:"#submitbutton",children:(s,o)=>{F();var c=ge();Z(()=>ce(c,f(W)===!1?"Please accept the terms":"")),p(s,c)},$$slots:{default:!0}});var Ht=d(mt,2);const Xt=te(()=>!f(W));$(Ht,{id:"submitbutton",type:"submit",get disabled(){return f(Xt)},primary:!0,class:"h-auto w-fit text-nowrap !bg-success-600 !text-white !saturate-[120%]",children:(s,o)=>{var c=aa(),_=j(c);H(_,{icon:"mdi:floppy",class:"mb-1 size-5"});var h=d(_);Z(()=>ce(h,` ${(e.mix?"Save mix":"Add Mix")??""}`)),p(s,c)},$$slots:{default:!0}}),b(Ue);var Zt=d(Ue,7);{var $t=s=>{var o=sa(),c=g(o);H(c,{icon:"solar:danger-triangle-bold",class:"mb-2 inline"});var _=d(c,5);$(_,{onclick:h=>{h.preventDefault(),N()},class:"h-auto w-fit text-nowrap !bg-danger-500 !text-white",children:(h,A)=>{var I=ia(),M=j(I);H(M,{icon:"mdi:trash",class:"mb-1"}),F(),p(h,I)},$$slots:{default:!0}}),b(o),p(s,o)};U(Zt,s=>{var o,c;(c=(o=e.mix)==null?void 0:o.data)!=null&&c.id&&s($t)})}b(Pe),b(K),be("submit",Pe,tt),be("drop",ie,et),be("dragover",ie,s=>s.preventDefault()),be("dragenter",ie,s=>s.preventDefault()),Ye(ct,()=>f(W),s=>O(W,s)),p(ae,K)},Et=ae=>{var K=ge("Nope, manually typing in that url does not work :)");p(ae,K)};U(Mt,ae=>{var K,de;((de=(K=e.mix)==null?void 0:K.data)==null?void 0:de.editable)!=!1?ae(jt):ae(Et,!1)})}p(S,rt)},$$slots:{default:!0}}),Dt(),n()}export{Aa as default};
