import{b as H,P as K,f as W,q as $,j as L,a as o,c as Q,s as R,D as U,t as P,z as V,A as X,e as n,n as f,r as m,d as r,l as i,v as g,k as C,F as Z,W as ee}from"./index-BcCQl6a-.js";import{B}from"./Button-BOPwDMcr.js";import{I as h}from"./Input-vzm1-OtD.js";import{I as ae}from"./Icon-BhO9Kjkk.js";import"./snippet-8dQsoPzA.js";import"./attributes-CEMj16RZ.js";import"./style-CkugiH3f.js";import"./class-C7KYhKkJ.js";import"./input-M3Eu1tsI.js";import"./index-client-Bh1S1P8h.js";var te=(x,a)=>V(a,!i(a)),se=P(`<dialog open><form method="dialog" class="max-w-screen flex max-h-full w-full flex-col gap-y-4 overflow-scroll text-base font-normal"><h2>Share recipe</h2> <p>Share this mix with another user by typing in their email adress below. The mix
                    will be sent as-is (it's not collaborative), and images are not included. If you
                    want to submit the mix for sharing on the homepage, click 'edit' instead!</p> <!> <p>What is your name? If not given, you will send the recipe anonymously</p> <!> <p>Want to include a personal message?</p> <!> <div class="flex w-full justify-between"><!> <!></div></form></dialog>`),re=P('<button class="relative h-fit text-xl text-uiGray-200"><!>Share</button> <!>',1);function ge(x,a){H(a,!0);const[j,A]=R(),T=()=>L(U,"$page",j);let v=X(!1);const t={email:"",name:"",message:"",mix_id:a.mix.data.id,mix:JSON.stringify(a.mix.data)};function q(){console.log(t),ee.post("/shares/send",t),alert("Thank you! We cannot tell you if the email adress is registered, but if it is,             the other user should get a notification when they login/refresh the page!")}var _=K(),z=W(_);{var D=c=>{var l=re(),s=W(l);s.__click=[te,v];var F=n(s);ae(F,{icon:"mdi:share",class:"inline -translate-y-[2px]"}),f(),m(s);var G=r(s,2);{var J=u=>{var p=se(),b=n(p),w=r(n(b),4);const M=g(()=>{var e;return(e=a.errors)==null?void 0:e.email});h(w,{type:"text",placeholder:"email",class:"w-full flex-1 text-black md:w-80",wrapperClass:"!w-80 col-span-1 lg:col-span-5",label:"target user email",get error(){return i(M)},get value(){return t.email},set value(e){t.email=e}});var y=r(w,4);const N=g(()=>{var e;return(e=a.errors)==null?void 0:e.name});h(y,{type:"text",placeholder:"name",class:"w-full flex-1 text-black md:w-80",wrapperClass:"col-span-1 lg:col-span-5",label:"Your name",get error(){return i(N)},get value(){return t.name},set value(e){t.name=e}});var k=r(y,4);const O=g(()=>{var e;return(e=a.errors)==null?void 0:e.message});h(k,{type:"textArea",placeholder:"message",class:"w-full flex-1 flex-col text-black md:flex md:w-80",wrapperClass:"col-span-1 lg:col-span-5",label:"Custom message",get error(){return i(O)},get value(){return t.message},set value(e){t.message=e}});var I=r(k,2),S=n(I);B(S,{type:"submit",children:(e,E)=>{f();var d=C("Back");o(e,d)},$$slots:{default:!0}});var Y=r(S,2);B(Y,{type:"submit",class:"!bg-success-500 !text-white",onclick:q,children:(e,E)=>{f();var d=C("Send!");o(e,d)},$$slots:{default:!0}}),m(I),m(b),m(p),o(u,p)};$(G,u=>{i(v)&&u(J)})}o(c,l)};$(z,c=>{var l,s;(s=(l=T().props)==null?void 0:l.auth)!=null&&s.user&&c(D)})}o(x,_),Q(),A()}Z(["click"]);export{ge as default};
